{
  "contractName": "SafeExchange",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "dealId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "emitter",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        }
      ],
      "name": "DealAccepted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "dealId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "breaker",
          "type": "address"
        }
      ],
      "name": "DealBroken",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "dealId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "emitter",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        }
      ],
      "name": "DealConfirmed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "dealId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "emitter",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        }
      ],
      "name": "DealStarted",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "deals",
      "outputs": [
        {
          "internalType": "address",
          "name": "emitter",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        },
        {
          "internalType": "enum SafeExchange.DealState",
          "name": "state",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_emitter",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_receiver",
          "type": "address"
        },
        {
          "internalType": "uint256[]",
          "name": "_tokenIds",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "_tokenAmounts",
          "type": "uint256[]"
        }
      ],
      "name": "dealStart",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_dealIndex",
          "type": "uint256"
        },
        {
          "internalType": "uint256[]",
          "name": "_tokenIds",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "_tokenAmounts",
          "type": "uint256[]"
        }
      ],
      "name": "dealAccept",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_dealIndex",
          "type": "uint256"
        }
      ],
      "name": "dealConfirm",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_dealIndex",
          "type": "uint256"
        }
      ],
      "name": "dealBreak",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.8.10+commit.fc410830\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"emitter\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"}],\"name\":\"DealAccepted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"breaker\",\"type\":\"address\"}],\"name\":\"DealBroken\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"emitter\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"}],\"name\":\"DealConfirmed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"dealId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"emitter\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"}],\"name\":\"DealStarted\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_dealIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"_tokenIds\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_tokenAmounts\",\"type\":\"uint256[]\"}],\"name\":\"dealAccept\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_dealIndex\",\"type\":\"uint256\"}],\"name\":\"dealBreak\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_dealIndex\",\"type\":\"uint256\"}],\"name\":\"dealConfirm\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_emitter\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_receiver\",\"type\":\"address\"},{\"internalType\":\"uint256[]\",\"name\":\"_tokenIds\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_tokenAmounts\",\"type\":\"uint256[]\"}],\"name\":\"dealStart\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"deals\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"emitter\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"},{\"internalType\":\"enum SafeExchange.DealState\",\"name\":\"state\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"events\":{\"DealAccepted(uint256,address,address)\":{\"notice\":\"This event is raised when a deal is accepted by the receiver.\"},\"DealBroken(uint256,address)\":{\"notice\":\"This event is raised when a deal is broken by its emitter, the receiver, or an operator on behalf of any of them.\"},\"DealConfirmed(uint256,address,address)\":{\"notice\":\"This event is raised when a deal is confirmed by its creator, after the receiver's acceptance.\"},\"DealStarted(uint256,address,address)\":{\"notice\":\"This event is raised when a new deal is created.\"}},\"kind\":\"user\",\"methods\":{\"dealAccept(uint256,uint256[],uint256[])\":{\"notice\":\"Accepting a deal requires the deal to be valid, the sender to be the deal receiver (or an allowed operator of the deal receiver), and the deal to be in the appropriate state. Also, the objects data must be non-empty and no element must be 0.\"},\"dealBreak(uint256)\":{\"notice\":\"Breaking a deal requires the deal to be valid, the sender to be the emitter (or approved) or the receiver (or approved).\"},\"dealConfirm(uint256)\":{\"notice\":\"Confirming a deal requires the deal to be valid, the sender to be the deal emitter (or an allowed operator of the deal emitter), and the deal to be in the appropriate state.\"},\"dealStart(address,address,uint256[],uint256[])\":{\"notice\":\"Starting a deal requires the sender to be the _emitter address or an address the sender can operate on their behalf. Also, the objects data must be non-empty, and no element must be 0.\"},\"deals(uint256)\":{\"notice\":\"All the ACTIVE / PENDING deals instantiated so far.\"}},\"notice\":\"These are features to implement a safe exchange in another contract inheriting this one.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"project:/contracts/semperland/economy/SafeExchange.sol\":\"SafeExchange\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/utils/Context.sol\":{\"keccak256\":\"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6df0ddf21ce9f58271bdfaa85cde98b200ef242a05a3f85c2bc10a8294800a92\",\"dweb:/ipfs/QmRK2Y5Yc6BK7tGKkgsgn3aJEQGi5aakeSPZvS65PV8Xp3\"]},\"@openzeppelin/contracts/utils/Strings.sol\":{\"keccak256\":\"0xaf159a8b1923ad2a26d516089bceca9bdeaeacd04be50983ea00ba63070f08a3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6f2cf1c531122bc7ca96b8c8db6a60deae60441e5223065e792553d4849b5638\",\"dweb:/ipfs/QmPBdJmBBABMDCfyDjCbdxgiqRavgiSL88SYPGibgbPas9\"]},\"project:/contracts/semperland/economy/SafeExchange.sol\":{\"keccak256\":\"0xa2ee1860d682eff30a1ec75af726686362a4f64a2e519121c36b9524300b0c3c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c0f0e4c5d6a937ed5b484abb14a83eff482ecb8b3fbf0bf828a3663b0580d74a\",\"dweb:/ipfs/QmdVPYFhwNEVEueS5j1XBFGn1XFLap2PwL3TbfeVKB4itY\"]}},\"version\":1}",
  "bytecode": "0x",
  "deployedBytecode": "0x",
  "immutableReferences": {},
  "generatedSources": [],
  "deployedGeneratedSources": [],
  "sourceMap": "",
  "deployedSourceMap": "",
  "source": "// SPDX-License-Identifier: MIT\npragma solidity >=0.8 <0.9.0;\n\nimport \"@openzeppelin/contracts/utils/Context.sol\";\nimport \"@openzeppelin/contracts/utils/Strings.sol\";\n\n/**\n * These are features to implement a safe exchange in another\n * contract inheriting this one.\n */\nabstract contract SafeExchange is Context {\n    /**\n     * The deals subsystem has deals, and each deal has a state,\n     * either rejected or ongoing. The \"broken\" state is a catch-all\n     * state for when the deal is cancelled / rejected by any party.\n     */\n    enum DealState { CREATED, ACCEPTED }\n\n    /**\n     * This event is raised when a new deal is created.\n     */\n    event DealStarted(uint256 indexed dealId, address indexed emitter, address indexed receiver);\n\n    /**\n     * This event is raised when a deal is accepted by the receiver.\n     */\n    event DealAccepted(uint256 indexed dealId, address indexed emitter, address indexed receiver);\n\n    /**\n     * This event is raised when a deal is confirmed by its creator,\n     * after the receiver's acceptance.\n     */\n    event DealConfirmed(uint256 indexed dealId, address indexed emitter, address indexed receiver);\n\n    /**\n     * This event is raised when a deal is broken by its emitter, the\n     * receiver, or an operator on behalf of any of them.\n     */\n    event DealBroken(uint256 indexed dealId, address indexed breaker);\n\n    /**\n     * Each deal knows what is being exchanged, the current state,\n     * and who are the involved parties.\n     */\n    struct Deal {\n        address emitter;\n        address receiver;\n        uint256[] emitterTokenIds;\n        uint256[] emitterTokenAmounts;\n        uint256[] receiverTokenIds;\n        uint256[] receiverTokenAmounts;\n        DealState state;\n    }\n\n    // The current deal index.\n    uint256 private currentDealIndex = 0;\n\n    /**\n     * All the ACTIVE / PENDING deals instantiated so far.\n     */\n    mapping(uint256 => Deal) public deals;\n\n    /**\n     * Starting a deal requires the sender to be the _emitter address\n     * or an address the sender can operate on their behalf. Also, the\n     * objects data must be non-empty, and no element must be 0.\n     */\n    function dealStart(\n        address _emitter, address _receiver, uint256[] memory _tokenIds, uint256[] memory _tokenAmounts\n    ) public {\n        require(\n            _emitter != address(0) && _receiver != address(0),\n            \"SafeExchange: transfer from/to the zero address\"\n        );\n        require(\n            _emitter == _msgSender() || _isApproved(_emitter, _msgSender()),\n            \"SafeExchange: caller is not emitter nor approved\"\n        );\n        require(\n            _tokenIds.length == _tokenAmounts.length && _tokenIds.length != 0,\n            \"SafeExchange: token ids and amounts length mismatch or 0\"\n        );\n        for(uint256 index = 0; index < _tokenAmounts.length; index++) {\n            require(\n                _tokenAmounts[index] != 0,\n                string(abi.encodePacked(\n                    \"SafeExchange: token in position \", Strings.toString(index), \" must not have amount of 0\"\n                ))\n            );\n        }\n\n        // Increment the deal counter and create the new instance.\n        currentDealIndex += 1;\n        deals[currentDealIndex] = Deal({\n            emitter: _emitter, receiver: _receiver, emitterTokenIds: _tokenIds, emitterTokenAmounts: _tokenAmounts,\n            state: DealState.CREATED, receiverTokenIds: new uint256[](0), receiverTokenAmounts: new uint256[](0)\n        });\n        // Then, emit the event.\n        emit DealStarted(currentDealIndex, _emitter, _receiver);\n    }\n\n    /**\n     * Accepting a deal requires the deal to be valid, the sender to\n     * be the deal receiver (or an allowed operator of the deal receiver),\n     * and the deal to be in the appropriate state. Also, the objects data\n     * must be non-empty and no element must be 0.\n     */\n    function dealAccept(uint256 _dealIndex, uint256[] memory _tokenIds, uint256[] memory _tokenAmounts) public\n    {\n        Deal storage deal = deals[_dealIndex];\n        address receiver = deal.receiver;\n        require(\n            receiver != address(0),\n            \"SafeExchange: invalid deal\"\n        );\n        require(\n            receiver == _msgSender() || _isApproved(receiver, _msgSender()),\n            \"SafeExchange: caller is not receiver nor approved\"\n        );\n        require(\n            _tokenIds.length == _tokenAmounts.length && _tokenIds.length != 0,\n            \"SafeExchange: token ids and amounts length mismatch or 0\"\n        );\n        DealState state = deal.state;\n        require(\n            state == DealState.CREATED,\n            \"SafeExchange: deal is not in just-created state\"\n        );\n        for(uint256 index = 0; index < _tokenAmounts.length; index++) {\n            require(\n                _tokenAmounts[index] != 0,\n                string(abi.encodePacked(\n                    \"SafeExchange: token in position \", Strings.toString(index), \" must not have amount of 0\"\n                ))\n            );\n        }\n\n        // Set the receiver acceptance and offer.\n        deal.state = DealState.ACCEPTED;\n        deal.receiverTokenIds = _tokenIds;\n        deal.receiverTokenAmounts = _tokenAmounts;\n        // Then, emit the event.\n        emit DealAccepted(_dealIndex, deal.emitter, receiver);\n    }\n\n    /**\n     * Confirming a deal requires the deal to be valid, the sender to\n     * be the deal emitter (or an allowed operator of the deal emitter),\n     * and the deal to be in the appropriate state.\n     */\n    function dealConfirm(uint256 _dealIndex) public\n    {\n        Deal storage deal = deals[_dealIndex];\n        address emitter = deal.emitter;\n        require(\n            emitter != address(0),\n            \"SafeExchange: invalid deal\"\n        );\n        require(\n            emitter == _msgSender() || _isApproved(emitter, _msgSender()),\n            \"SafeExchange: caller is not emitter nor approved\"\n        );\n        DealState state = deal.state;\n        require(\n            state == DealState.ACCEPTED,\n            \"SafeExchange: deal is not in just-accepted state\"\n        );\n\n        // Do the exchange. This exchange might fail (it will when the elements\n        // are not present in the required amounts in both accounts).\n        _batchTransfer(\n            _dealIndex, deal.emitter, deal.receiver, deal.emitterTokenIds, deal.emitterTokenAmounts\n        );\n        _batchTransfer(\n            _dealIndex, deal.receiver, deal.emitter, deal.receiverTokenIds, deal.receiverTokenAmounts\n        );\n        // Now, trigger the event and clear the deal.\n        emit DealConfirmed(_dealIndex, deal.emitter, deal.receiver);\n        delete deals[_dealIndex];\n    }\n\n    /**\n     * Breaking a deal requires the deal to be valid, the sender to be\n     * the emitter (or approved) or the receiver (or approved).\n     */\n    function dealBreak(uint256 _dealIndex) public\n    {\n        Deal storage deal = deals[_dealIndex];\n        address emitter = deal.emitter;\n        address receiver = deal.receiver;\n        address sender = _msgSender();\n        require(\n            emitter != address(0),\n            \"SafeExchange: invalid deal\"\n        );\n        require(\n            emitter == sender || _isApproved(emitter, sender) ||\n            receiver == sender || _isApproved(receiver, sender),\n            \"SafeExchange: caller is not emitter/receiver nor approved\"\n        );\n\n        // Now, trigger the event and clear the deal.\n        emit DealBroken(_dealIndex, sender);\n        delete deals[_dealIndex];\n    }\n\n    /**\n     * Tells whether a sender is approved for a given party\n     * to perform this contract's operations on their behalf.\n     */\n    function _isApproved(address _party, address _sender) internal virtual view returns (bool);\n\n    /**\n     * Does a batch transfer of the tokens from one party to the other.\n     */\n    function _batchTransfer(\n        uint256 _dealIndex, address _from, address _to, uint256[] memory _tokenIds, uint256[] memory _tokenAmounts\n    ) internal virtual;\n}\n",
  "sourcePath": "/home/luismasuelli/Projects/OuterMaze/semperland-contracts/contracts/semperland/economy/SafeExchange.sol",
  "ast": {
    "absolutePath": "project:/contracts/semperland/economy/SafeExchange.sol",
    "exportedSymbols": {
      "Context": [
        1764
      ],
      "SafeExchange": [
        3483
      ],
      "Strings": [
        1990
      ]
    },
    "id": 3484,
    "license": "MIT",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 2959,
        "literals": [
          "solidity",
          ">=",
          "0.8",
          "<",
          "0.9",
          ".0"
        ],
        "nodeType": "PragmaDirective",
        "src": "32:29:16"
      },
      {
        "absolutePath": "@openzeppelin/contracts/utils/Context.sol",
        "file": "@openzeppelin/contracts/utils/Context.sol",
        "id": 2960,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 3484,
        "sourceUnit": 1765,
        "src": "63:51:16",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@openzeppelin/contracts/utils/Strings.sol",
        "file": "@openzeppelin/contracts/utils/Strings.sol",
        "id": 2961,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 3484,
        "sourceUnit": 1991,
        "src": "115:51:16",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": true,
        "baseContracts": [
          {
            "baseName": {
              "id": 2963,
              "name": "Context",
              "nodeType": "IdentifierPath",
              "referencedDeclaration": 1764,
              "src": "305:7:16"
            },
            "id": 2964,
            "nodeType": "InheritanceSpecifier",
            "src": "305:7:16"
          }
        ],
        "canonicalName": "SafeExchange",
        "contractDependencies": [],
        "contractKind": "contract",
        "documentation": {
          "id": 2962,
          "nodeType": "StructuredDocumentation",
          "src": "168:102:16",
          "text": " These are features to implement a safe exchange in another\n contract inheriting this one."
        },
        "fullyImplemented": false,
        "id": 3483,
        "linearizedBaseContracts": [
          3483,
          1764
        ],
        "name": "SafeExchange",
        "nameLocation": "289:12:16",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "canonicalName": "SafeExchange.DealState",
            "id": 2967,
            "members": [
              {
                "id": 2965,
                "name": "CREATED",
                "nameLocation": "555:7:16",
                "nodeType": "EnumValue",
                "src": "555:7:16"
              },
              {
                "id": 2966,
                "name": "ACCEPTED",
                "nameLocation": "564:8:16",
                "nodeType": "EnumValue",
                "src": "564:8:16"
              }
            ],
            "name": "DealState",
            "nameLocation": "543:9:16",
            "nodeType": "EnumDefinition",
            "src": "538:36:16"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 2968,
              "nodeType": "StructuredDocumentation",
              "src": "580:67:16",
              "text": " This event is raised when a new deal is created."
            },
            "id": 2976,
            "name": "DealStarted",
            "nameLocation": "658:11:16",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 2975,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2970,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "dealId",
                  "nameLocation": "686:6:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2976,
                  "src": "670:22:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2969,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "670:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2972,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "emitter",
                  "nameLocation": "710:7:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2976,
                  "src": "694:23:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2971,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "694:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2974,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "receiver",
                  "nameLocation": "735:8:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2976,
                  "src": "719:24:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2973,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "719:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "669:75:16"
            },
            "src": "652:93:16"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 2977,
              "nodeType": "StructuredDocumentation",
              "src": "751:80:16",
              "text": " This event is raised when a deal is accepted by the receiver."
            },
            "id": 2985,
            "name": "DealAccepted",
            "nameLocation": "842:12:16",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 2984,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2979,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "dealId",
                  "nameLocation": "871:6:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2985,
                  "src": "855:22:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2978,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "855:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2981,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "emitter",
                  "nameLocation": "895:7:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2985,
                  "src": "879:23:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2980,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "879:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2983,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "receiver",
                  "nameLocation": "920:8:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2985,
                  "src": "904:24:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2982,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "904:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "854:75:16"
            },
            "src": "836:94:16"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 2986,
              "nodeType": "StructuredDocumentation",
              "src": "936:120:16",
              "text": " This event is raised when a deal is confirmed by its creator,\n after the receiver's acceptance."
            },
            "id": 2994,
            "name": "DealConfirmed",
            "nameLocation": "1067:13:16",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 2993,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2988,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "dealId",
                  "nameLocation": "1097:6:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2994,
                  "src": "1081:22:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2987,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1081:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2990,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "emitter",
                  "nameLocation": "1121:7:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2994,
                  "src": "1105:23:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2989,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1105:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2992,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "receiver",
                  "nameLocation": "1146:8:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2994,
                  "src": "1130:24:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2991,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1130:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1080:75:16"
            },
            "src": "1061:95:16"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 2995,
              "nodeType": "StructuredDocumentation",
              "src": "1162:139:16",
              "text": " This event is raised when a deal is broken by its emitter, the\n receiver, or an operator on behalf of any of them."
            },
            "id": 3001,
            "name": "DealBroken",
            "nameLocation": "1312:10:16",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 3000,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2997,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "dealId",
                  "nameLocation": "1339:6:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3001,
                  "src": "1323:22:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2996,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1323:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2999,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "breaker",
                  "nameLocation": "1363:7:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3001,
                  "src": "1347:23:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2998,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1347:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1322:49:16"
            },
            "src": "1306:66:16"
          },
          {
            "canonicalName": "SafeExchange.Deal",
            "id": 3021,
            "members": [
              {
                "constant": false,
                "id": 3003,
                "mutability": "mutable",
                "name": "emitter",
                "nameLocation": "1532:7:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1524:15:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 3002,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "1524:7:16",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3005,
                "mutability": "mutable",
                "name": "receiver",
                "nameLocation": "1557:8:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1549:16:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 3004,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "1549:7:16",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3008,
                "mutability": "mutable",
                "name": "emitterTokenIds",
                "nameLocation": "1585:15:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1575:25:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                  "typeString": "uint256[]"
                },
                "typeName": {
                  "baseType": {
                    "id": 3006,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1575:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3007,
                  "nodeType": "ArrayTypeName",
                  "src": "1575:9:16",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                    "typeString": "uint256[]"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3011,
                "mutability": "mutable",
                "name": "emitterTokenAmounts",
                "nameLocation": "1620:19:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1610:29:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                  "typeString": "uint256[]"
                },
                "typeName": {
                  "baseType": {
                    "id": 3009,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1610:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3010,
                  "nodeType": "ArrayTypeName",
                  "src": "1610:9:16",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                    "typeString": "uint256[]"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3014,
                "mutability": "mutable",
                "name": "receiverTokenIds",
                "nameLocation": "1659:16:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1649:26:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                  "typeString": "uint256[]"
                },
                "typeName": {
                  "baseType": {
                    "id": 3012,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1649:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3013,
                  "nodeType": "ArrayTypeName",
                  "src": "1649:9:16",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                    "typeString": "uint256[]"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3017,
                "mutability": "mutable",
                "name": "receiverTokenAmounts",
                "nameLocation": "1695:20:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1685:30:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                  "typeString": "uint256[]"
                },
                "typeName": {
                  "baseType": {
                    "id": 3015,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1685:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3016,
                  "nodeType": "ArrayTypeName",
                  "src": "1685:9:16",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                    "typeString": "uint256[]"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3020,
                "mutability": "mutable",
                "name": "state",
                "nameLocation": "1735:5:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1725:15:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_enum$_DealState_$2967",
                  "typeString": "enum SafeExchange.DealState"
                },
                "typeName": {
                  "id": 3019,
                  "nodeType": "UserDefinedTypeName",
                  "pathNode": {
                    "id": 3018,
                    "name": "DealState",
                    "nodeType": "IdentifierPath",
                    "referencedDeclaration": 2967,
                    "src": "1725:9:16"
                  },
                  "referencedDeclaration": 2967,
                  "src": "1725:9:16",
                  "typeDescriptions": {
                    "typeIdentifier": "t_enum$_DealState_$2967",
                    "typeString": "enum SafeExchange.DealState"
                  }
                },
                "visibility": "internal"
              }
            ],
            "name": "Deal",
            "nameLocation": "1509:4:16",
            "nodeType": "StructDefinition",
            "scope": 3483,
            "src": "1502:245:16",
            "visibility": "public"
          },
          {
            "constant": false,
            "id": 3024,
            "mutability": "mutable",
            "name": "currentDealIndex",
            "nameLocation": "1800:16:16",
            "nodeType": "VariableDeclaration",
            "scope": 3483,
            "src": "1784:36:16",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 3022,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1784:7:16",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "30",
              "id": 3023,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "1819:1:16",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_0_by_1",
                "typeString": "int_const 0"
              },
              "value": "0"
            },
            "visibility": "private"
          },
          {
            "constant": false,
            "documentation": {
              "id": 3025,
              "nodeType": "StructuredDocumentation",
              "src": "1827:70:16",
              "text": " All the ACTIVE / PENDING deals instantiated so far."
            },
            "functionSelector": "03988f84",
            "id": 3030,
            "mutability": "mutable",
            "name": "deals",
            "nameLocation": "1934:5:16",
            "nodeType": "VariableDeclaration",
            "scope": 3483,
            "src": "1902:37:16",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
              "typeString": "mapping(uint256 => struct SafeExchange.Deal)"
            },
            "typeName": {
              "id": 3029,
              "keyType": {
                "id": 3026,
                "name": "uint256",
                "nodeType": "ElementaryTypeName",
                "src": "1910:7:16",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                }
              },
              "nodeType": "Mapping",
              "src": "1902:24:16",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                "typeString": "mapping(uint256 => struct SafeExchange.Deal)"
              },
              "valueType": {
                "id": 3028,
                "nodeType": "UserDefinedTypeName",
                "pathNode": {
                  "id": 3027,
                  "name": "Deal",
                  "nodeType": "IdentifierPath",
                  "referencedDeclaration": 3021,
                  "src": "1921:4:16"
                },
                "referencedDeclaration": 3021,
                "src": "1921:4:16",
                "typeDescriptions": {
                  "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                  "typeString": "struct SafeExchange.Deal"
                }
              }
            },
            "visibility": "public"
          },
          {
            "body": {
              "id": 3155,
              "nodeType": "Block",
              "src": "2305:1316:16",
              "statements": [
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3057,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          "id": 3050,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3045,
                            "name": "_emitter",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3033,
                            "src": "2336:8:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "!=",
                          "rightExpression": {
                            "arguments": [
                              {
                                "hexValue": "30",
                                "id": 3048,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "number",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "2356:1:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                },
                                "value": "0"
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                }
                              ],
                              "id": 3047,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "nodeType": "ElementaryTypeNameExpression",
                              "src": "2348:7:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_type$_t_address_$",
                                "typeString": "type(address)"
                              },
                              "typeName": {
                                "id": 3046,
                                "name": "address",
                                "nodeType": "ElementaryTypeName",
                                "src": "2348:7:16",
                                "typeDescriptions": {}
                              }
                            },
                            "id": 3049,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "typeConversion",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "2348:10:16",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "src": "2336:22:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "&&",
                        "rightExpression": {
                          "commonType": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          "id": 3056,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3051,
                            "name": "_receiver",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3035,
                            "src": "2362:9:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "!=",
                          "rightExpression": {
                            "arguments": [
                              {
                                "hexValue": "30",
                                "id": 3054,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "number",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "2383:1:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                },
                                "value": "0"
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                }
                              ],
                              "id": 3053,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "nodeType": "ElementaryTypeNameExpression",
                              "src": "2375:7:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_type$_t_address_$",
                                "typeString": "type(address)"
                              },
                              "typeName": {
                                "id": 3052,
                                "name": "address",
                                "nodeType": "ElementaryTypeName",
                                "src": "2375:7:16",
                                "typeDescriptions": {}
                              }
                            },
                            "id": 3055,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "typeConversion",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "2375:10:16",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "src": "2362:23:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "2336:49:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a207472616e736665722066726f6d2f746f20746865207a65726f2061646472657373",
                        "id": 3058,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2399:49:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_c564980a65c27497be7608856299b4a44bf3c8ca62b1c57a0cc192f36730185c",
                          "typeString": "literal_string \"SafeExchange: transfer from/to the zero address\""
                        },
                        "value": "SafeExchange: transfer from/to the zero address"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_c564980a65c27497be7608856299b4a44bf3c8ca62b1c57a0cc192f36730185c",
                          "typeString": "literal_string \"SafeExchange: transfer from/to the zero address\""
                        }
                      ],
                      "id": 3044,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "2315:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3059,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2315:143:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3060,
                  "nodeType": "ExpressionStatement",
                  "src": "2315:143:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3071,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          "id": 3065,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3062,
                            "name": "_emitter",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3033,
                            "src": "2489:8:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "arguments": [],
                            "expression": {
                              "argumentTypes": [],
                              "id": 3063,
                              "name": "_msgSender",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 1754,
                              "src": "2501:10:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                "typeString": "function () view returns (address)"
                              }
                            },
                            "id": 3064,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "2501:12:16",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "src": "2489:24:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "arguments": [
                            {
                              "id": 3067,
                              "name": "_emitter",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3033,
                              "src": "2529:8:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            {
                              "arguments": [],
                              "expression": {
                                "argumentTypes": [],
                                "id": 3068,
                                "name": "_msgSender",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 1754,
                                "src": "2539:10:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                  "typeString": "function () view returns (address)"
                                }
                              },
                              "id": 3069,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "functionCall",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "2539:12:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 3066,
                            "name": "_isApproved",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3466,
                            "src": "2517:11:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_bool_$",
                              "typeString": "function (address,address) view returns (bool)"
                            }
                          },
                          "id": 3070,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "2517:35:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "2489:63:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a2063616c6c6572206973206e6f7420656d6974746572206e6f7220617070726f766564",
                        "id": 3072,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2566:50:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_d520a1163b7ed679d69f0ec0f04321310c8a4d1babbd2f97ced093cc16f09d91",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter nor approved\""
                        },
                        "value": "SafeExchange: caller is not emitter nor approved"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_d520a1163b7ed679d69f0ec0f04321310c8a4d1babbd2f97ced093cc16f09d91",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter nor approved\""
                        }
                      ],
                      "id": 3061,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "2468:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3073,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2468:158:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3074,
                  "nodeType": "ExpressionStatement",
                  "src": "2468:158:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3085,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3080,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "expression": {
                              "id": 3076,
                              "name": "_tokenIds",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3038,
                              "src": "2657:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3077,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "2657:16:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "expression": {
                              "id": 3078,
                              "name": "_tokenAmounts",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3041,
                              "src": "2677:13:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3079,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "2677:20:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "2657:40:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "&&",
                        "rightExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3084,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "expression": {
                              "id": 3081,
                              "name": "_tokenIds",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3038,
                              "src": "2701:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3082,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "2701:16:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "!=",
                          "rightExpression": {
                            "hexValue": "30",
                            "id": 3083,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "2721:1:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "2701:21:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "2657:65:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a20746f6b656e2069647320616e6420616d6f756e7473206c656e677468206d69736d61746368206f722030",
                        "id": 3086,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2736:58:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_1c817ae3dbdd1ca0a138e227f5cff86f3a4dcc93fc8444a90dad077a3da8e262",
                          "typeString": "literal_string \"SafeExchange: token ids and amounts length mismatch or 0\""
                        },
                        "value": "SafeExchange: token ids and amounts length mismatch or 0"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_1c817ae3dbdd1ca0a138e227f5cff86f3a4dcc93fc8444a90dad077a3da8e262",
                          "typeString": "literal_string \"SafeExchange: token ids and amounts length mismatch or 0\""
                        }
                      ],
                      "id": 3075,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "2636:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3087,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2636:168:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3088,
                  "nodeType": "ExpressionStatement",
                  "src": "2636:168:16"
                },
                {
                  "body": {
                    "id": 3120,
                    "nodeType": "Block",
                    "src": "2876:260:16",
                    "statements": [
                      {
                        "expression": {
                          "arguments": [
                            {
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "id": 3105,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "baseExpression": {
                                  "id": 3101,
                                  "name": "_tokenAmounts",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3041,
                                  "src": "2915:13:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                    "typeString": "uint256[] memory"
                                  }
                                },
                                "id": 3103,
                                "indexExpression": {
                                  "id": 3102,
                                  "name": "index",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3090,
                                  "src": "2929:5:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "nodeType": "IndexAccess",
                                "src": "2915:20:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "!=",
                              "rightExpression": {
                                "hexValue": "30",
                                "id": 3104,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "number",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "2939:1:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                },
                                "value": "0"
                              },
                              "src": "2915:25:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              }
                            },
                            {
                              "arguments": [
                                {
                                  "arguments": [
                                    {
                                      "hexValue": "5361666545786368616e67653a20746f6b656e20696e20706f736974696f6e20",
                                      "id": 3110,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "string",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "3003:34:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_stringliteral_e5e18df82f08a03b5363e00453d8acb988f9d7d06ad743f5f44606fca3b8c334",
                                        "typeString": "literal_string \"SafeExchange: token in position \""
                                      },
                                      "value": "SafeExchange: token in position "
                                    },
                                    {
                                      "arguments": [
                                        {
                                          "id": 3113,
                                          "name": "index",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 3090,
                                          "src": "3056:5:16",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint256",
                                            "typeString": "uint256"
                                          }
                                        }
                                      ],
                                      "expression": {
                                        "argumentTypes": [
                                          {
                                            "typeIdentifier": "t_uint256",
                                            "typeString": "uint256"
                                          }
                                        ],
                                        "expression": {
                                          "id": 3111,
                                          "name": "Strings",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 1990,
                                          "src": "3039:7:16",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_type$_t_contract$_Strings_$1990_$",
                                            "typeString": "type(library Strings)"
                                          }
                                        },
                                        "id": 3112,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": false,
                                        "lValueRequested": false,
                                        "memberName": "toString",
                                        "nodeType": "MemberAccess",
                                        "referencedDeclaration": 1852,
                                        "src": "3039:16:16",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_function_internal_pure$_t_uint256_$returns$_t_string_memory_ptr_$",
                                          "typeString": "function (uint256) pure returns (string memory)"
                                        }
                                      },
                                      "id": 3114,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "kind": "functionCall",
                                      "lValueRequested": false,
                                      "names": [],
                                      "nodeType": "FunctionCall",
                                      "src": "3039:23:16",
                                      "tryCall": false,
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_string_memory_ptr",
                                        "typeString": "string memory"
                                      }
                                    },
                                    {
                                      "hexValue": "206d757374206e6f74206861766520616d6f756e74206f662030",
                                      "id": 3115,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "string",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "3064:28:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_stringliteral_d853564bab57d38a8f8ace47e8f1c51ef8f41bd7687cb50dbd9a354a9d2b8b41",
                                        "typeString": "literal_string \" must not have amount of 0\""
                                      },
                                      "value": " must not have amount of 0"
                                    }
                                  ],
                                  "expression": {
                                    "argumentTypes": [
                                      {
                                        "typeIdentifier": "t_stringliteral_e5e18df82f08a03b5363e00453d8acb988f9d7d06ad743f5f44606fca3b8c334",
                                        "typeString": "literal_string \"SafeExchange: token in position \""
                                      },
                                      {
                                        "typeIdentifier": "t_string_memory_ptr",
                                        "typeString": "string memory"
                                      },
                                      {
                                        "typeIdentifier": "t_stringliteral_d853564bab57d38a8f8ace47e8f1c51ef8f41bd7687cb50dbd9a354a9d2b8b41",
                                        "typeString": "literal_string \" must not have amount of 0\""
                                      }
                                    ],
                                    "expression": {
                                      "id": 3108,
                                      "name": "abi",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 4294967295,
                                      "src": "2965:3:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_magic_abi",
                                        "typeString": "abi"
                                      }
                                    },
                                    "id": 3109,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "lValueRequested": false,
                                    "memberName": "encodePacked",
                                    "nodeType": "MemberAccess",
                                    "src": "2965:16:16",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",
                                      "typeString": "function () pure returns (bytes memory)"
                                    }
                                  },
                                  "id": 3116,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "kind": "functionCall",
                                  "lValueRequested": false,
                                  "names": [],
                                  "nodeType": "FunctionCall",
                                  "src": "2965:145:16",
                                  "tryCall": false,
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bytes_memory_ptr",
                                    "typeString": "bytes memory"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_bytes_memory_ptr",
                                    "typeString": "bytes memory"
                                  }
                                ],
                                "id": 3107,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "lValueRequested": false,
                                "nodeType": "ElementaryTypeNameExpression",
                                "src": "2958:6:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_string_storage_ptr_$",
                                  "typeString": "type(string storage pointer)"
                                },
                                "typeName": {
                                  "id": 3106,
                                  "name": "string",
                                  "nodeType": "ElementaryTypeName",
                                  "src": "2958:6:16",
                                  "typeDescriptions": {}
                                }
                              },
                              "id": 3117,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "typeConversion",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "2958:153:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_string_memory_ptr",
                                "typeString": "string memory"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              },
                              {
                                "typeIdentifier": "t_string_memory_ptr",
                                "typeString": "string memory"
                              }
                            ],
                            "id": 3100,
                            "name": "require",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [
                              4294967278,
                              4294967278
                            ],
                            "referencedDeclaration": 4294967278,
                            "src": "2890:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                              "typeString": "function (bool,string memory) pure"
                            }
                          },
                          "id": 3118,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "2890:235:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_tuple$__$",
                            "typeString": "tuple()"
                          }
                        },
                        "id": 3119,
                        "nodeType": "ExpressionStatement",
                        "src": "2890:235:16"
                      }
                    ]
                  },
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 3096,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 3093,
                      "name": "index",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3090,
                      "src": "2837:5:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "expression": {
                        "id": 3094,
                        "name": "_tokenAmounts",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3041,
                        "src": "2845:13:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      },
                      "id": 3095,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "length",
                      "nodeType": "MemberAccess",
                      "src": "2845:20:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "2837:28:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 3121,
                  "initializationExpression": {
                    "assignments": [
                      3090
                    ],
                    "declarations": [
                      {
                        "constant": false,
                        "id": 3090,
                        "mutability": "mutable",
                        "name": "index",
                        "nameLocation": "2826:5:16",
                        "nodeType": "VariableDeclaration",
                        "scope": 3121,
                        "src": "2818:13:16",
                        "stateVariable": false,
                        "storageLocation": "default",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "typeName": {
                          "id": 3089,
                          "name": "uint256",
                          "nodeType": "ElementaryTypeName",
                          "src": "2818:7:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "visibility": "internal"
                      }
                    ],
                    "id": 3092,
                    "initialValue": {
                      "hexValue": "30",
                      "id": 3091,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "2834:1:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "nodeType": "VariableDeclarationStatement",
                    "src": "2818:17:16"
                  },
                  "loopExpression": {
                    "expression": {
                      "id": 3098,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "UnaryOperation",
                      "operator": "++",
                      "prefix": false,
                      "src": "2867:7:16",
                      "subExpression": {
                        "id": 3097,
                        "name": "index",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3090,
                        "src": "2867:5:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3099,
                    "nodeType": "ExpressionStatement",
                    "src": "2867:7:16"
                  },
                  "nodeType": "ForStatement",
                  "src": "2814:322:16"
                },
                {
                  "expression": {
                    "id": 3124,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 3122,
                      "name": "currentDealIndex",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3024,
                      "src": "3213:16:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "hexValue": "31",
                      "id": 3123,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3233:1:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_1_by_1",
                        "typeString": "int_const 1"
                      },
                      "value": "1"
                    },
                    "src": "3213:21:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3125,
                  "nodeType": "ExpressionStatement",
                  "src": "3213:21:16"
                },
                {
                  "expression": {
                    "id": 3147,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "baseExpression": {
                        "id": 3126,
                        "name": "deals",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3030,
                        "src": "3244:5:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                          "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                        }
                      },
                      "id": 3128,
                      "indexExpression": {
                        "id": 3127,
                        "name": "currentDealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3024,
                        "src": "3250:16:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "3244:23:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage",
                        "typeString": "struct SafeExchange.Deal storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "id": 3130,
                          "name": "_emitter",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3033,
                          "src": "3298:8:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        {
                          "id": 3131,
                          "name": "_receiver",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3035,
                          "src": "3318:9:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        {
                          "id": 3132,
                          "name": "_tokenIds",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3038,
                          "src": "3346:9:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        },
                        {
                          "id": 3133,
                          "name": "_tokenAmounts",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3041,
                          "src": "3378:13:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        },
                        {
                          "expression": {
                            "id": 3134,
                            "name": "DealState",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 2967,
                            "src": "3412:9:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_enum$_DealState_$2967_$",
                              "typeString": "type(enum SafeExchange.DealState)"
                            }
                          },
                          "id": 3135,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "memberName": "CREATED",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 2965,
                          "src": "3412:17:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          }
                        },
                        {
                          "arguments": [
                            {
                              "hexValue": "30",
                              "id": 3139,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "3463:1:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              }
                            ],
                            "id": 3138,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "NewExpression",
                            "src": "3449:13:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",
                              "typeString": "function (uint256) pure returns (uint256[] memory)"
                            },
                            "typeName": {
                              "baseType": {
                                "id": 3136,
                                "name": "uint256",
                                "nodeType": "ElementaryTypeName",
                                "src": "3453:7:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 3137,
                              "nodeType": "ArrayTypeName",
                              "src": "3453:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                                "typeString": "uint256[]"
                              }
                            }
                          },
                          "id": 3140,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3449:16:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        },
                        {
                          "arguments": [
                            {
                              "hexValue": "30",
                              "id": 3144,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "3503:1:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              }
                            ],
                            "id": 3143,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "NewExpression",
                            "src": "3489:13:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",
                              "typeString": "function (uint256) pure returns (uint256[] memory)"
                            },
                            "typeName": {
                              "baseType": {
                                "id": 3141,
                                "name": "uint256",
                                "nodeType": "ElementaryTypeName",
                                "src": "3493:7:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 3142,
                              "nodeType": "ArrayTypeName",
                              "src": "3493:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                                "typeString": "uint256[]"
                              }
                            }
                          },
                          "id": 3145,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3489:16:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          },
                          {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          },
                          {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          },
                          {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          },
                          {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        ],
                        "id": 3129,
                        "name": "Deal",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3021,
                        "src": "3270:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_struct$_Deal_$3021_storage_ptr_$",
                          "typeString": "type(struct SafeExchange.Deal storage pointer)"
                        }
                      },
                      "id": 3146,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "structConstructorCall",
                      "lValueRequested": false,
                      "names": [
                        "emitter",
                        "receiver",
                        "emitterTokenIds",
                        "emitterTokenAmounts",
                        "state",
                        "receiverTokenIds",
                        "receiverTokenAmounts"
                      ],
                      "nodeType": "FunctionCall",
                      "src": "3270:246:16",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_memory_ptr",
                        "typeString": "struct SafeExchange.Deal memory"
                      }
                    },
                    "src": "3244:272:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Deal_$3021_storage",
                      "typeString": "struct SafeExchange.Deal storage ref"
                    }
                  },
                  "id": 3148,
                  "nodeType": "ExpressionStatement",
                  "src": "3244:272:16"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "id": 3150,
                        "name": "currentDealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3024,
                        "src": "3576:16:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 3151,
                        "name": "_emitter",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3033,
                        "src": "3594:8:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 3152,
                        "name": "_receiver",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3035,
                        "src": "3604:9:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 3149,
                      "name": "DealStarted",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 2976,
                      "src": "3564:11:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$_t_address_$returns$__$",
                        "typeString": "function (uint256,address,address)"
                      }
                    },
                    "id": 3153,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3564:50:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3154,
                  "nodeType": "EmitStatement",
                  "src": "3559:55:16"
                }
              ]
            },
            "documentation": {
              "id": 3031,
              "nodeType": "StructuredDocumentation",
              "src": "1946:217:16",
              "text": " Starting a deal requires the sender to be the _emitter address\n or an address the sender can operate on their behalf. Also, the\n objects data must be non-empty, and no element must be 0."
            },
            "functionSelector": "e067bd6f",
            "id": 3156,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "dealStart",
            "nameLocation": "2177:9:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3042,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3033,
                  "mutability": "mutable",
                  "name": "_emitter",
                  "nameLocation": "2204:8:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3156,
                  "src": "2196:16:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3032,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2196:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3035,
                  "mutability": "mutable",
                  "name": "_receiver",
                  "nameLocation": "2222:9:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3156,
                  "src": "2214:17:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3034,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2214:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3038,
                  "mutability": "mutable",
                  "name": "_tokenIds",
                  "nameLocation": "2250:9:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3156,
                  "src": "2233:26:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3036,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "2233:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3037,
                    "nodeType": "ArrayTypeName",
                    "src": "2233:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3041,
                  "mutability": "mutable",
                  "name": "_tokenAmounts",
                  "nameLocation": "2278:13:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3156,
                  "src": "2261:30:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3039,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "2261:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3040,
                    "nodeType": "ArrayTypeName",
                    "src": "2261:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2186:111:16"
            },
            "returnParameters": {
              "id": 3043,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "2305:0:16"
            },
            "scope": 3483,
            "src": "2168:1453:16",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 3291,
              "nodeType": "Block",
              "src": "4024:1329:16",
              "statements": [
                {
                  "assignments": [
                    3170
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3170,
                      "mutability": "mutable",
                      "name": "deal",
                      "nameLocation": "4047:4:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3291,
                      "src": "4034:17:16",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal"
                      },
                      "typeName": {
                        "id": 3169,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 3168,
                          "name": "Deal",
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 3021,
                          "src": "4034:4:16"
                        },
                        "referencedDeclaration": 3021,
                        "src": "4034:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3174,
                  "initialValue": {
                    "baseExpression": {
                      "id": 3171,
                      "name": "deals",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3030,
                      "src": "4054:5:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                        "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                      }
                    },
                    "id": 3173,
                    "indexExpression": {
                      "id": 3172,
                      "name": "_dealIndex",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3159,
                      "src": "4060:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "4054:17:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Deal_$3021_storage",
                      "typeString": "struct SafeExchange.Deal storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4034:37:16"
                },
                {
                  "assignments": [
                    3176
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3176,
                      "mutability": "mutable",
                      "name": "receiver",
                      "nameLocation": "4089:8:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3291,
                      "src": "4081:16:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "typeName": {
                        "id": 3175,
                        "name": "address",
                        "nodeType": "ElementaryTypeName",
                        "src": "4081:7:16",
                        "stateMutability": "nonpayable",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3179,
                  "initialValue": {
                    "expression": {
                      "id": 3177,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3170,
                      "src": "4100:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3178,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "receiver",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3005,
                    "src": "4100:13:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4081:32:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        "id": 3186,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3181,
                          "name": "receiver",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3176,
                          "src": "4144:8:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "!=",
                        "rightExpression": {
                          "arguments": [
                            {
                              "hexValue": "30",
                              "id": 3184,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "4164:1:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              }
                            ],
                            "id": 3183,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "ElementaryTypeNameExpression",
                            "src": "4156:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_address_$",
                              "typeString": "type(address)"
                            },
                            "typeName": {
                              "id": 3182,
                              "name": "address",
                              "nodeType": "ElementaryTypeName",
                              "src": "4156:7:16",
                              "typeDescriptions": {}
                            }
                          },
                          "id": 3185,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "4156:10:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "src": "4144:22:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a20696e76616c6964206465616c",
                        "id": 3187,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4180:28:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        },
                        "value": "SafeExchange: invalid deal"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        }
                      ],
                      "id": 3180,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "4123:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3188,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4123:95:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3189,
                  "nodeType": "ExpressionStatement",
                  "src": "4123:95:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3200,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          "id": 3194,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3191,
                            "name": "receiver",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3176,
                            "src": "4249:8:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "arguments": [],
                            "expression": {
                              "argumentTypes": [],
                              "id": 3192,
                              "name": "_msgSender",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 1754,
                              "src": "4261:10:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                "typeString": "function () view returns (address)"
                              }
                            },
                            "id": 3193,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "4261:12:16",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "src": "4249:24:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "arguments": [
                            {
                              "id": 3196,
                              "name": "receiver",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3176,
                              "src": "4289:8:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            {
                              "arguments": [],
                              "expression": {
                                "argumentTypes": [],
                                "id": 3197,
                                "name": "_msgSender",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 1754,
                                "src": "4299:10:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                  "typeString": "function () view returns (address)"
                                }
                              },
                              "id": 3198,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "functionCall",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "4299:12:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 3195,
                            "name": "_isApproved",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3466,
                            "src": "4277:11:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_bool_$",
                              "typeString": "function (address,address) view returns (bool)"
                            }
                          },
                          "id": 3199,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "4277:35:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "4249:63:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a2063616c6c6572206973206e6f74207265636569766572206e6f7220617070726f766564",
                        "id": 3201,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4326:51:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_a12e7d3ae022477f02e5be61400be1fe27a3588e389f8a35f66cd3a0151e730f",
                          "typeString": "literal_string \"SafeExchange: caller is not receiver nor approved\""
                        },
                        "value": "SafeExchange: caller is not receiver nor approved"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_a12e7d3ae022477f02e5be61400be1fe27a3588e389f8a35f66cd3a0151e730f",
                          "typeString": "literal_string \"SafeExchange: caller is not receiver nor approved\""
                        }
                      ],
                      "id": 3190,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "4228:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3202,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4228:159:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3203,
                  "nodeType": "ExpressionStatement",
                  "src": "4228:159:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3214,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3209,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "expression": {
                              "id": 3205,
                              "name": "_tokenIds",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3162,
                              "src": "4418:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3206,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "4418:16:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "expression": {
                              "id": 3207,
                              "name": "_tokenAmounts",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3165,
                              "src": "4438:13:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3208,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "4438:20:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "4418:40:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "&&",
                        "rightExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3213,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "expression": {
                              "id": 3210,
                              "name": "_tokenIds",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3162,
                              "src": "4462:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3211,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "4462:16:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "!=",
                          "rightExpression": {
                            "hexValue": "30",
                            "id": 3212,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "4482:1:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "4462:21:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "4418:65:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a20746f6b656e2069647320616e6420616d6f756e7473206c656e677468206d69736d61746368206f722030",
                        "id": 3215,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4497:58:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_1c817ae3dbdd1ca0a138e227f5cff86f3a4dcc93fc8444a90dad077a3da8e262",
                          "typeString": "literal_string \"SafeExchange: token ids and amounts length mismatch or 0\""
                        },
                        "value": "SafeExchange: token ids and amounts length mismatch or 0"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_1c817ae3dbdd1ca0a138e227f5cff86f3a4dcc93fc8444a90dad077a3da8e262",
                          "typeString": "literal_string \"SafeExchange: token ids and amounts length mismatch or 0\""
                        }
                      ],
                      "id": 3204,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "4397:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3216,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4397:168:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3217,
                  "nodeType": "ExpressionStatement",
                  "src": "4397:168:16"
                },
                {
                  "assignments": [
                    3220
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3220,
                      "mutability": "mutable",
                      "name": "state",
                      "nameLocation": "4585:5:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3291,
                      "src": "4575:15:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_enum$_DealState_$2967",
                        "typeString": "enum SafeExchange.DealState"
                      },
                      "typeName": {
                        "id": 3219,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 3218,
                          "name": "DealState",
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 2967,
                          "src": "4575:9:16"
                        },
                        "referencedDeclaration": 2967,
                        "src": "4575:9:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_enum$_DealState_$2967",
                          "typeString": "enum SafeExchange.DealState"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3223,
                  "initialValue": {
                    "expression": {
                      "id": 3221,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3170,
                      "src": "4593:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3222,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "state",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3020,
                    "src": "4593:10:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_enum$_DealState_$2967",
                      "typeString": "enum SafeExchange.DealState"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4575:28:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_enum$_DealState_$2967",
                          "typeString": "enum SafeExchange.DealState"
                        },
                        "id": 3228,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3225,
                          "name": "state",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3220,
                          "src": "4634:5:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "==",
                        "rightExpression": {
                          "expression": {
                            "id": 3226,
                            "name": "DealState",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 2967,
                            "src": "4643:9:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_enum$_DealState_$2967_$",
                              "typeString": "type(enum SafeExchange.DealState)"
                            }
                          },
                          "id": 3227,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "memberName": "CREATED",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 2965,
                          "src": "4643:17:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          }
                        },
                        "src": "4634:26:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a206465616c206973206e6f7420696e206a7573742d63726561746564207374617465",
                        "id": 3229,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4674:49:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_60517d537c0d44d159caea8a90958c684e7f75861563d7452e8d886c091fe2b1",
                          "typeString": "literal_string \"SafeExchange: deal is not in just-created state\""
                        },
                        "value": "SafeExchange: deal is not in just-created state"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_60517d537c0d44d159caea8a90958c684e7f75861563d7452e8d886c091fe2b1",
                          "typeString": "literal_string \"SafeExchange: deal is not in just-created state\""
                        }
                      ],
                      "id": 3224,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "4613:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3230,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4613:120:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3231,
                  "nodeType": "ExpressionStatement",
                  "src": "4613:120:16"
                },
                {
                  "body": {
                    "id": 3263,
                    "nodeType": "Block",
                    "src": "4805:260:16",
                    "statements": [
                      {
                        "expression": {
                          "arguments": [
                            {
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "id": 3248,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "baseExpression": {
                                  "id": 3244,
                                  "name": "_tokenAmounts",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3165,
                                  "src": "4844:13:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                    "typeString": "uint256[] memory"
                                  }
                                },
                                "id": 3246,
                                "indexExpression": {
                                  "id": 3245,
                                  "name": "index",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3233,
                                  "src": "4858:5:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "nodeType": "IndexAccess",
                                "src": "4844:20:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "!=",
                              "rightExpression": {
                                "hexValue": "30",
                                "id": 3247,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "number",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "4868:1:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                },
                                "value": "0"
                              },
                              "src": "4844:25:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              }
                            },
                            {
                              "arguments": [
                                {
                                  "arguments": [
                                    {
                                      "hexValue": "5361666545786368616e67653a20746f6b656e20696e20706f736974696f6e20",
                                      "id": 3253,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "string",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "4932:34:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_stringliteral_e5e18df82f08a03b5363e00453d8acb988f9d7d06ad743f5f44606fca3b8c334",
                                        "typeString": "literal_string \"SafeExchange: token in position \""
                                      },
                                      "value": "SafeExchange: token in position "
                                    },
                                    {
                                      "arguments": [
                                        {
                                          "id": 3256,
                                          "name": "index",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 3233,
                                          "src": "4985:5:16",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint256",
                                            "typeString": "uint256"
                                          }
                                        }
                                      ],
                                      "expression": {
                                        "argumentTypes": [
                                          {
                                            "typeIdentifier": "t_uint256",
                                            "typeString": "uint256"
                                          }
                                        ],
                                        "expression": {
                                          "id": 3254,
                                          "name": "Strings",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 1990,
                                          "src": "4968:7:16",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_type$_t_contract$_Strings_$1990_$",
                                            "typeString": "type(library Strings)"
                                          }
                                        },
                                        "id": 3255,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": false,
                                        "lValueRequested": false,
                                        "memberName": "toString",
                                        "nodeType": "MemberAccess",
                                        "referencedDeclaration": 1852,
                                        "src": "4968:16:16",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_function_internal_pure$_t_uint256_$returns$_t_string_memory_ptr_$",
                                          "typeString": "function (uint256) pure returns (string memory)"
                                        }
                                      },
                                      "id": 3257,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "kind": "functionCall",
                                      "lValueRequested": false,
                                      "names": [],
                                      "nodeType": "FunctionCall",
                                      "src": "4968:23:16",
                                      "tryCall": false,
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_string_memory_ptr",
                                        "typeString": "string memory"
                                      }
                                    },
                                    {
                                      "hexValue": "206d757374206e6f74206861766520616d6f756e74206f662030",
                                      "id": 3258,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "string",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "4993:28:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_stringliteral_d853564bab57d38a8f8ace47e8f1c51ef8f41bd7687cb50dbd9a354a9d2b8b41",
                                        "typeString": "literal_string \" must not have amount of 0\""
                                      },
                                      "value": " must not have amount of 0"
                                    }
                                  ],
                                  "expression": {
                                    "argumentTypes": [
                                      {
                                        "typeIdentifier": "t_stringliteral_e5e18df82f08a03b5363e00453d8acb988f9d7d06ad743f5f44606fca3b8c334",
                                        "typeString": "literal_string \"SafeExchange: token in position \""
                                      },
                                      {
                                        "typeIdentifier": "t_string_memory_ptr",
                                        "typeString": "string memory"
                                      },
                                      {
                                        "typeIdentifier": "t_stringliteral_d853564bab57d38a8f8ace47e8f1c51ef8f41bd7687cb50dbd9a354a9d2b8b41",
                                        "typeString": "literal_string \" must not have amount of 0\""
                                      }
                                    ],
                                    "expression": {
                                      "id": 3251,
                                      "name": "abi",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 4294967295,
                                      "src": "4894:3:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_magic_abi",
                                        "typeString": "abi"
                                      }
                                    },
                                    "id": 3252,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "lValueRequested": false,
                                    "memberName": "encodePacked",
                                    "nodeType": "MemberAccess",
                                    "src": "4894:16:16",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",
                                      "typeString": "function () pure returns (bytes memory)"
                                    }
                                  },
                                  "id": 3259,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "kind": "functionCall",
                                  "lValueRequested": false,
                                  "names": [],
                                  "nodeType": "FunctionCall",
                                  "src": "4894:145:16",
                                  "tryCall": false,
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bytes_memory_ptr",
                                    "typeString": "bytes memory"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_bytes_memory_ptr",
                                    "typeString": "bytes memory"
                                  }
                                ],
                                "id": 3250,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "lValueRequested": false,
                                "nodeType": "ElementaryTypeNameExpression",
                                "src": "4887:6:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_string_storage_ptr_$",
                                  "typeString": "type(string storage pointer)"
                                },
                                "typeName": {
                                  "id": 3249,
                                  "name": "string",
                                  "nodeType": "ElementaryTypeName",
                                  "src": "4887:6:16",
                                  "typeDescriptions": {}
                                }
                              },
                              "id": 3260,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "typeConversion",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "4887:153:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_string_memory_ptr",
                                "typeString": "string memory"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              },
                              {
                                "typeIdentifier": "t_string_memory_ptr",
                                "typeString": "string memory"
                              }
                            ],
                            "id": 3243,
                            "name": "require",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [
                              4294967278,
                              4294967278
                            ],
                            "referencedDeclaration": 4294967278,
                            "src": "4819:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                              "typeString": "function (bool,string memory) pure"
                            }
                          },
                          "id": 3261,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "4819:235:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_tuple$__$",
                            "typeString": "tuple()"
                          }
                        },
                        "id": 3262,
                        "nodeType": "ExpressionStatement",
                        "src": "4819:235:16"
                      }
                    ]
                  },
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 3239,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 3236,
                      "name": "index",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3233,
                      "src": "4766:5:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "expression": {
                        "id": 3237,
                        "name": "_tokenAmounts",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3165,
                        "src": "4774:13:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      },
                      "id": 3238,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "length",
                      "nodeType": "MemberAccess",
                      "src": "4774:20:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4766:28:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 3264,
                  "initializationExpression": {
                    "assignments": [
                      3233
                    ],
                    "declarations": [
                      {
                        "constant": false,
                        "id": 3233,
                        "mutability": "mutable",
                        "name": "index",
                        "nameLocation": "4755:5:16",
                        "nodeType": "VariableDeclaration",
                        "scope": 3264,
                        "src": "4747:13:16",
                        "stateVariable": false,
                        "storageLocation": "default",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "typeName": {
                          "id": 3232,
                          "name": "uint256",
                          "nodeType": "ElementaryTypeName",
                          "src": "4747:7:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "visibility": "internal"
                      }
                    ],
                    "id": 3235,
                    "initialValue": {
                      "hexValue": "30",
                      "id": 3234,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "4763:1:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "nodeType": "VariableDeclarationStatement",
                    "src": "4747:17:16"
                  },
                  "loopExpression": {
                    "expression": {
                      "id": 3241,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "UnaryOperation",
                      "operator": "++",
                      "prefix": false,
                      "src": "4796:7:16",
                      "subExpression": {
                        "id": 3240,
                        "name": "index",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3233,
                        "src": "4796:5:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3242,
                    "nodeType": "ExpressionStatement",
                    "src": "4796:7:16"
                  },
                  "nodeType": "ForStatement",
                  "src": "4743:322:16"
                },
                {
                  "expression": {
                    "id": 3270,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "id": 3265,
                        "name": "deal",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3170,
                        "src": "5125:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal storage pointer"
                        }
                      },
                      "id": 3267,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "state",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3020,
                      "src": "5125:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_enum$_DealState_$2967",
                        "typeString": "enum SafeExchange.DealState"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "expression": {
                        "id": 3268,
                        "name": "DealState",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 2967,
                        "src": "5138:9:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_enum$_DealState_$2967_$",
                          "typeString": "type(enum SafeExchange.DealState)"
                        }
                      },
                      "id": 3269,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "memberName": "ACCEPTED",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 2966,
                      "src": "5138:18:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_enum$_DealState_$2967",
                        "typeString": "enum SafeExchange.DealState"
                      }
                    },
                    "src": "5125:31:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_enum$_DealState_$2967",
                      "typeString": "enum SafeExchange.DealState"
                    }
                  },
                  "id": 3271,
                  "nodeType": "ExpressionStatement",
                  "src": "5125:31:16"
                },
                {
                  "expression": {
                    "id": 3276,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "id": 3272,
                        "name": "deal",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3170,
                        "src": "5166:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal storage pointer"
                        }
                      },
                      "id": 3274,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "receiverTokenIds",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3014,
                      "src": "5166:21:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                        "typeString": "uint256[] storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "id": 3275,
                      "name": "_tokenIds",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3162,
                      "src": "5190:9:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                        "typeString": "uint256[] memory"
                      }
                    },
                    "src": "5166:33:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                      "typeString": "uint256[] storage ref"
                    }
                  },
                  "id": 3277,
                  "nodeType": "ExpressionStatement",
                  "src": "5166:33:16"
                },
                {
                  "expression": {
                    "id": 3282,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "id": 3278,
                        "name": "deal",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3170,
                        "src": "5209:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal storage pointer"
                        }
                      },
                      "id": 3280,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "receiverTokenAmounts",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3017,
                      "src": "5209:25:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                        "typeString": "uint256[] storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "id": 3281,
                      "name": "_tokenAmounts",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3165,
                      "src": "5237:13:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                        "typeString": "uint256[] memory"
                      }
                    },
                    "src": "5209:41:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                      "typeString": "uint256[] storage ref"
                    }
                  },
                  "id": 3283,
                  "nodeType": "ExpressionStatement",
                  "src": "5209:41:16"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "id": 3285,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3159,
                        "src": "5311:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 3286,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3170,
                          "src": "5323:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3287,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitter",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3003,
                        "src": "5323:12:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 3288,
                        "name": "receiver",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3176,
                        "src": "5337:8:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 3284,
                      "name": "DealAccepted",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 2985,
                      "src": "5298:12:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$_t_address_$returns$__$",
                        "typeString": "function (uint256,address,address)"
                      }
                    },
                    "id": 3289,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5298:48:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3290,
                  "nodeType": "EmitStatement",
                  "src": "5293:53:16"
                }
              ]
            },
            "documentation": {
              "id": 3157,
              "nodeType": "StructuredDocumentation",
              "src": "3627:281:16",
              "text": " Accepting a deal requires the deal to be valid, the sender to\n be the deal receiver (or an allowed operator of the deal receiver),\n and the deal to be in the appropriate state. Also, the objects data\n must be non-empty and no element must be 0."
            },
            "functionSelector": "d22d2359",
            "id": 3292,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "dealAccept",
            "nameLocation": "3922:10:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3166,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3159,
                  "mutability": "mutable",
                  "name": "_dealIndex",
                  "nameLocation": "3941:10:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3292,
                  "src": "3933:18:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3158,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3933:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3162,
                  "mutability": "mutable",
                  "name": "_tokenIds",
                  "nameLocation": "3970:9:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3292,
                  "src": "3953:26:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3160,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "3953:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3161,
                    "nodeType": "ArrayTypeName",
                    "src": "3953:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3165,
                  "mutability": "mutable",
                  "name": "_tokenAmounts",
                  "nameLocation": "3998:13:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3292,
                  "src": "3981:30:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3163,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "3981:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3164,
                    "nodeType": "ArrayTypeName",
                    "src": "3981:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3932:80:16"
            },
            "returnParameters": {
              "id": 3167,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "4024:0:16"
            },
            "scope": 3483,
            "src": "3913:1440:16",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 3385,
              "nodeType": "Block",
              "src": "5622:1114:16",
              "statements": [
                {
                  "assignments": [
                    3300
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3300,
                      "mutability": "mutable",
                      "name": "deal",
                      "nameLocation": "5645:4:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3385,
                      "src": "5632:17:16",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal"
                      },
                      "typeName": {
                        "id": 3299,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 3298,
                          "name": "Deal",
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 3021,
                          "src": "5632:4:16"
                        },
                        "referencedDeclaration": 3021,
                        "src": "5632:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3304,
                  "initialValue": {
                    "baseExpression": {
                      "id": 3301,
                      "name": "deals",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3030,
                      "src": "5652:5:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                        "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                      }
                    },
                    "id": 3303,
                    "indexExpression": {
                      "id": 3302,
                      "name": "_dealIndex",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3295,
                      "src": "5658:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "5652:17:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Deal_$3021_storage",
                      "typeString": "struct SafeExchange.Deal storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "5632:37:16"
                },
                {
                  "assignments": [
                    3306
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3306,
                      "mutability": "mutable",
                      "name": "emitter",
                      "nameLocation": "5687:7:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3385,
                      "src": "5679:15:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "typeName": {
                        "id": 3305,
                        "name": "address",
                        "nodeType": "ElementaryTypeName",
                        "src": "5679:7:16",
                        "stateMutability": "nonpayable",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3309,
                  "initialValue": {
                    "expression": {
                      "id": 3307,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3300,
                      "src": "5697:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3308,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "emitter",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3003,
                    "src": "5697:12:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "5679:30:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        "id": 3316,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3311,
                          "name": "emitter",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3306,
                          "src": "5740:7:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "!=",
                        "rightExpression": {
                          "arguments": [
                            {
                              "hexValue": "30",
                              "id": 3314,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "5759:1:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              }
                            ],
                            "id": 3313,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "ElementaryTypeNameExpression",
                            "src": "5751:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_address_$",
                              "typeString": "type(address)"
                            },
                            "typeName": {
                              "id": 3312,
                              "name": "address",
                              "nodeType": "ElementaryTypeName",
                              "src": "5751:7:16",
                              "typeDescriptions": {}
                            }
                          },
                          "id": 3315,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "5751:10:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "src": "5740:21:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a20696e76616c6964206465616c",
                        "id": 3317,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "5775:28:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        },
                        "value": "SafeExchange: invalid deal"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        }
                      ],
                      "id": 3310,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "5719:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3318,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5719:94:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3319,
                  "nodeType": "ExpressionStatement",
                  "src": "5719:94:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3330,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          "id": 3324,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3321,
                            "name": "emitter",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3306,
                            "src": "5844:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "arguments": [],
                            "expression": {
                              "argumentTypes": [],
                              "id": 3322,
                              "name": "_msgSender",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 1754,
                              "src": "5855:10:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                "typeString": "function () view returns (address)"
                              }
                            },
                            "id": 3323,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "5855:12:16",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "src": "5844:23:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "arguments": [
                            {
                              "id": 3326,
                              "name": "emitter",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3306,
                              "src": "5883:7:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            {
                              "arguments": [],
                              "expression": {
                                "argumentTypes": [],
                                "id": 3327,
                                "name": "_msgSender",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 1754,
                                "src": "5892:10:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                  "typeString": "function () view returns (address)"
                                }
                              },
                              "id": 3328,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "functionCall",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "5892:12:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 3325,
                            "name": "_isApproved",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3466,
                            "src": "5871:11:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_bool_$",
                              "typeString": "function (address,address) view returns (bool)"
                            }
                          },
                          "id": 3329,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "5871:34:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "5844:61:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a2063616c6c6572206973206e6f7420656d6974746572206e6f7220617070726f766564",
                        "id": 3331,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "5919:50:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_d520a1163b7ed679d69f0ec0f04321310c8a4d1babbd2f97ced093cc16f09d91",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter nor approved\""
                        },
                        "value": "SafeExchange: caller is not emitter nor approved"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_d520a1163b7ed679d69f0ec0f04321310c8a4d1babbd2f97ced093cc16f09d91",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter nor approved\""
                        }
                      ],
                      "id": 3320,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "5823:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3332,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5823:156:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3333,
                  "nodeType": "ExpressionStatement",
                  "src": "5823:156:16"
                },
                {
                  "assignments": [
                    3336
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3336,
                      "mutability": "mutable",
                      "name": "state",
                      "nameLocation": "5999:5:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3385,
                      "src": "5989:15:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_enum$_DealState_$2967",
                        "typeString": "enum SafeExchange.DealState"
                      },
                      "typeName": {
                        "id": 3335,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 3334,
                          "name": "DealState",
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 2967,
                          "src": "5989:9:16"
                        },
                        "referencedDeclaration": 2967,
                        "src": "5989:9:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_enum$_DealState_$2967",
                          "typeString": "enum SafeExchange.DealState"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3339,
                  "initialValue": {
                    "expression": {
                      "id": 3337,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3300,
                      "src": "6007:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3338,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "state",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3020,
                    "src": "6007:10:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_enum$_DealState_$2967",
                      "typeString": "enum SafeExchange.DealState"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "5989:28:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_enum$_DealState_$2967",
                          "typeString": "enum SafeExchange.DealState"
                        },
                        "id": 3344,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3341,
                          "name": "state",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3336,
                          "src": "6048:5:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "==",
                        "rightExpression": {
                          "expression": {
                            "id": 3342,
                            "name": "DealState",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 2967,
                            "src": "6057:9:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_enum$_DealState_$2967_$",
                              "typeString": "type(enum SafeExchange.DealState)"
                            }
                          },
                          "id": 3343,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "memberName": "ACCEPTED",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 2966,
                          "src": "6057:18:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          }
                        },
                        "src": "6048:27:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a206465616c206973206e6f7420696e206a7573742d6163636570746564207374617465",
                        "id": 3345,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "6089:50:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_ab1e1dac828544dd4ca9b592d7b80d9d3023e19983fcf7922e8272d4b970e7b1",
                          "typeString": "literal_string \"SafeExchange: deal is not in just-accepted state\""
                        },
                        "value": "SafeExchange: deal is not in just-accepted state"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_ab1e1dac828544dd4ca9b592d7b80d9d3023e19983fcf7922e8272d4b970e7b1",
                          "typeString": "literal_string \"SafeExchange: deal is not in just-accepted state\""
                        }
                      ],
                      "id": 3340,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "6027:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3346,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6027:122:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3347,
                  "nodeType": "ExpressionStatement",
                  "src": "6027:122:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 3349,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3295,
                        "src": "6338:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 3350,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6350:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3351,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitter",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3003,
                        "src": "6350:12:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "expression": {
                          "id": 3352,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6364:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3353,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "receiver",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3005,
                        "src": "6364:13:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "expression": {
                          "id": 3354,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6379:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3355,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitterTokenIds",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3008,
                        "src": "6379:20:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      },
                      {
                        "expression": {
                          "id": 3356,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6401:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3357,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitterTokenAmounts",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3011,
                        "src": "6401:24:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      ],
                      "id": 3348,
                      "name": "_batchTransfer",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3482,
                      "src": "6310:14:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$",
                        "typeString": "function (uint256,address,address,uint256[] memory,uint256[] memory)"
                      }
                    },
                    "id": 3358,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6310:125:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3359,
                  "nodeType": "ExpressionStatement",
                  "src": "6310:125:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 3361,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3295,
                        "src": "6473:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 3362,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6485:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3363,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "receiver",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3005,
                        "src": "6485:13:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "expression": {
                          "id": 3364,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6500:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3365,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitter",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3003,
                        "src": "6500:12:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "expression": {
                          "id": 3366,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6514:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3367,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "receiverTokenIds",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3014,
                        "src": "6514:21:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      },
                      {
                        "expression": {
                          "id": 3368,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6537:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3369,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "receiverTokenAmounts",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3017,
                        "src": "6537:25:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      ],
                      "id": 3360,
                      "name": "_batchTransfer",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3482,
                      "src": "6445:14:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$",
                        "typeString": "function (uint256,address,address,uint256[] memory,uint256[] memory)"
                      }
                    },
                    "id": 3370,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6445:127:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3371,
                  "nodeType": "ExpressionStatement",
                  "src": "6445:127:16"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "id": 3373,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3295,
                        "src": "6655:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 3374,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6667:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3375,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitter",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3003,
                        "src": "6667:12:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "expression": {
                          "id": 3376,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6681:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3377,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "receiver",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3005,
                        "src": "6681:13:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 3372,
                      "name": "DealConfirmed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 2994,
                      "src": "6641:13:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$_t_address_$returns$__$",
                        "typeString": "function (uint256,address,address)"
                      }
                    },
                    "id": 3378,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6641:54:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3379,
                  "nodeType": "EmitStatement",
                  "src": "6636:59:16"
                },
                {
                  "expression": {
                    "id": 3383,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "UnaryOperation",
                    "operator": "delete",
                    "prefix": true,
                    "src": "6705:24:16",
                    "subExpression": {
                      "baseExpression": {
                        "id": 3380,
                        "name": "deals",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3030,
                        "src": "6712:5:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                          "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                        }
                      },
                      "id": 3382,
                      "indexExpression": {
                        "id": 3381,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3295,
                        "src": "6718:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "6712:17:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage",
                        "typeString": "struct SafeExchange.Deal storage ref"
                      }
                    },
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3384,
                  "nodeType": "ExpressionStatement",
                  "src": "6705:24:16"
                }
              ]
            },
            "documentation": {
              "id": 3293,
              "nodeType": "StructuredDocumentation",
              "src": "5359:206:16",
              "text": " Confirming a deal requires the deal to be valid, the sender to\n be the deal emitter (or an allowed operator of the deal emitter),\n and the deal to be in the appropriate state."
            },
            "functionSelector": "c3e50027",
            "id": 3386,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "dealConfirm",
            "nameLocation": "5579:11:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3296,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3295,
                  "mutability": "mutable",
                  "name": "_dealIndex",
                  "nameLocation": "5599:10:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3386,
                  "src": "5591:18:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3294,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5591:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5590:20:16"
            },
            "returnParameters": {
              "id": 3297,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "5622:0:16"
            },
            "scope": 3483,
            "src": "5570:1166:16",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 3455,
              "nodeType": "Block",
              "src": "6943:643:16",
              "statements": [
                {
                  "assignments": [
                    3394
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3394,
                      "mutability": "mutable",
                      "name": "deal",
                      "nameLocation": "6966:4:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3455,
                      "src": "6953:17:16",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal"
                      },
                      "typeName": {
                        "id": 3393,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 3392,
                          "name": "Deal",
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 3021,
                          "src": "6953:4:16"
                        },
                        "referencedDeclaration": 3021,
                        "src": "6953:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3398,
                  "initialValue": {
                    "baseExpression": {
                      "id": 3395,
                      "name": "deals",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3030,
                      "src": "6973:5:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                        "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                      }
                    },
                    "id": 3397,
                    "indexExpression": {
                      "id": 3396,
                      "name": "_dealIndex",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3389,
                      "src": "6979:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "6973:17:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Deal_$3021_storage",
                      "typeString": "struct SafeExchange.Deal storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "6953:37:16"
                },
                {
                  "assignments": [
                    3400
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3400,
                      "mutability": "mutable",
                      "name": "emitter",
                      "nameLocation": "7008:7:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3455,
                      "src": "7000:15:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "typeName": {
                        "id": 3399,
                        "name": "address",
                        "nodeType": "ElementaryTypeName",
                        "src": "7000:7:16",
                        "stateMutability": "nonpayable",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3403,
                  "initialValue": {
                    "expression": {
                      "id": 3401,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3394,
                      "src": "7018:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3402,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "emitter",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3003,
                    "src": "7018:12:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7000:30:16"
                },
                {
                  "assignments": [
                    3405
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3405,
                      "mutability": "mutable",
                      "name": "receiver",
                      "nameLocation": "7048:8:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3455,
                      "src": "7040:16:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "typeName": {
                        "id": 3404,
                        "name": "address",
                        "nodeType": "ElementaryTypeName",
                        "src": "7040:7:16",
                        "stateMutability": "nonpayable",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3408,
                  "initialValue": {
                    "expression": {
                      "id": 3406,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3394,
                      "src": "7059:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3407,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "receiver",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3005,
                    "src": "7059:13:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7040:32:16"
                },
                {
                  "assignments": [
                    3410
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3410,
                      "mutability": "mutable",
                      "name": "sender",
                      "nameLocation": "7090:6:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3455,
                      "src": "7082:14:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "typeName": {
                        "id": 3409,
                        "name": "address",
                        "nodeType": "ElementaryTypeName",
                        "src": "7082:7:16",
                        "stateMutability": "nonpayable",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3413,
                  "initialValue": {
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "id": 3411,
                      "name": "_msgSender",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 1754,
                      "src": "7099:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                        "typeString": "function () view returns (address)"
                      }
                    },
                    "id": 3412,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "7099:12:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7082:29:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        "id": 3420,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3415,
                          "name": "emitter",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3400,
                          "src": "7142:7:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "!=",
                        "rightExpression": {
                          "arguments": [
                            {
                              "hexValue": "30",
                              "id": 3418,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "7161:1:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              }
                            ],
                            "id": 3417,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "ElementaryTypeNameExpression",
                            "src": "7153:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_address_$",
                              "typeString": "type(address)"
                            },
                            "typeName": {
                              "id": 3416,
                              "name": "address",
                              "nodeType": "ElementaryTypeName",
                              "src": "7153:7:16",
                              "typeDescriptions": {}
                            }
                          },
                          "id": 3419,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "7153:10:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "src": "7142:21:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a20696e76616c6964206465616c",
                        "id": 3421,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "7177:28:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        },
                        "value": "SafeExchange: invalid deal"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        }
                      ],
                      "id": 3414,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "7121:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3422,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "7121:94:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3423,
                  "nodeType": "ExpressionStatement",
                  "src": "7121:94:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3441,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          },
                          "id": 3436,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "commonType": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            },
                            "id": 3432,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "commonType": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              "id": 3427,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "id": 3425,
                                "name": "emitter",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3400,
                                "src": "7246:7:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_address",
                                  "typeString": "address"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "==",
                              "rightExpression": {
                                "id": 3426,
                                "name": "sender",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3410,
                                "src": "7257:6:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_address",
                                  "typeString": "address"
                                }
                              },
                              "src": "7246:17:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "||",
                            "rightExpression": {
                              "arguments": [
                                {
                                  "id": 3429,
                                  "name": "emitter",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3400,
                                  "src": "7279:7:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                },
                                {
                                  "id": 3430,
                                  "name": "sender",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3410,
                                  "src": "7288:6:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  },
                                  {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                ],
                                "id": 3428,
                                "name": "_isApproved",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3466,
                                "src": "7267:11:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_bool_$",
                                  "typeString": "function (address,address) view returns (bool)"
                                }
                              },
                              "id": 3431,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "functionCall",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "7267:28:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              }
                            },
                            "src": "7246:49:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "||",
                          "rightExpression": {
                            "commonType": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            "id": 3435,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "id": 3433,
                              "name": "receiver",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3405,
                              "src": "7311:8:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "==",
                            "rightExpression": {
                              "id": 3434,
                              "name": "sender",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3410,
                              "src": "7323:6:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            "src": "7311:18:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "src": "7246:83:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "arguments": [
                            {
                              "id": 3438,
                              "name": "receiver",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3405,
                              "src": "7345:8:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            {
                              "id": 3439,
                              "name": "sender",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3410,
                              "src": "7355:6:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 3437,
                            "name": "_isApproved",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3466,
                            "src": "7333:11:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_bool_$",
                              "typeString": "function (address,address) view returns (bool)"
                            }
                          },
                          "id": 3440,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "7333:29:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "7246:116:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a2063616c6c6572206973206e6f7420656d69747465722f7265636569766572206e6f7220617070726f766564",
                        "id": 3442,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "7376:59:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_e6934625d149fa57d22b3c0d6f05c08021670fa37106525528f7681fcae93303",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter/receiver nor approved\""
                        },
                        "value": "SafeExchange: caller is not emitter/receiver nor approved"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_e6934625d149fa57d22b3c0d6f05c08021670fa37106525528f7681fcae93303",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter/receiver nor approved\""
                        }
                      ],
                      "id": 3424,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "7225:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3443,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "7225:220:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3444,
                  "nodeType": "ExpressionStatement",
                  "src": "7225:220:16"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "id": 3446,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3389,
                        "src": "7526:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 3447,
                        "name": "sender",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3410,
                        "src": "7538:6:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 3445,
                      "name": "DealBroken",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3001,
                      "src": "7515:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$returns$__$",
                        "typeString": "function (uint256,address)"
                      }
                    },
                    "id": 3448,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "7515:30:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3449,
                  "nodeType": "EmitStatement",
                  "src": "7510:35:16"
                },
                {
                  "expression": {
                    "id": 3453,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "UnaryOperation",
                    "operator": "delete",
                    "prefix": true,
                    "src": "7555:24:16",
                    "subExpression": {
                      "baseExpression": {
                        "id": 3450,
                        "name": "deals",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3030,
                        "src": "7562:5:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                          "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                        }
                      },
                      "id": 3452,
                      "indexExpression": {
                        "id": 3451,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3389,
                        "src": "7568:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "7562:17:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage",
                        "typeString": "struct SafeExchange.Deal storage ref"
                      }
                    },
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3454,
                  "nodeType": "ExpressionStatement",
                  "src": "7555:24:16"
                }
              ]
            },
            "documentation": {
              "id": 3387,
              "nodeType": "StructuredDocumentation",
              "src": "6742:146:16",
              "text": " Breaking a deal requires the deal to be valid, the sender to be\n the emitter (or approved) or the receiver (or approved)."
            },
            "functionSelector": "6344bb13",
            "id": 3456,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "dealBreak",
            "nameLocation": "6902:9:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3390,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3389,
                  "mutability": "mutable",
                  "name": "_dealIndex",
                  "nameLocation": "6920:10:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3456,
                  "src": "6912:18:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3388,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6912:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "6911:20:16"
            },
            "returnParameters": {
              "id": 3391,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "6943:0:16"
            },
            "scope": 3483,
            "src": "6893:693:16",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "documentation": {
              "id": 3457,
              "nodeType": "StructuredDocumentation",
              "src": "7592:133:16",
              "text": " Tells whether a sender is approved for a given party\n to perform this contract's operations on their behalf."
            },
            "id": 3466,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "_isApproved",
            "nameLocation": "7739:11:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3462,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3459,
                  "mutability": "mutable",
                  "name": "_party",
                  "nameLocation": "7759:6:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3466,
                  "src": "7751:14:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3458,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "7751:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3461,
                  "mutability": "mutable",
                  "name": "_sender",
                  "nameLocation": "7775:7:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3466,
                  "src": "7767:15:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3460,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "7767:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7750:33:16"
            },
            "returnParameters": {
              "id": 3465,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3464,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 3466,
                  "src": "7815:4:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 3463,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "7815:4:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7814:6:16"
            },
            "scope": 3483,
            "src": "7730:91:16",
            "stateMutability": "view",
            "virtual": true,
            "visibility": "internal"
          },
          {
            "documentation": {
              "id": 3467,
              "nodeType": "StructuredDocumentation",
              "src": "7827:83:16",
              "text": " Does a batch transfer of the tokens from one party to the other."
            },
            "id": 3482,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "_batchTransfer",
            "nameLocation": "7924:14:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3480,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3469,
                  "mutability": "mutable",
                  "name": "_dealIndex",
                  "nameLocation": "7956:10:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3482,
                  "src": "7948:18:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3468,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "7948:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3471,
                  "mutability": "mutable",
                  "name": "_from",
                  "nameLocation": "7976:5:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3482,
                  "src": "7968:13:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3470,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "7968:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3473,
                  "mutability": "mutable",
                  "name": "_to",
                  "nameLocation": "7991:3:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3482,
                  "src": "7983:11:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3472,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "7983:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3476,
                  "mutability": "mutable",
                  "name": "_tokenIds",
                  "nameLocation": "8013:9:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3482,
                  "src": "7996:26:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3474,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "7996:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3475,
                    "nodeType": "ArrayTypeName",
                    "src": "7996:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3479,
                  "mutability": "mutable",
                  "name": "_tokenAmounts",
                  "nameLocation": "8041:13:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3482,
                  "src": "8024:30:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3477,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "8024:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3478,
                    "nodeType": "ArrayTypeName",
                    "src": "8024:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7938:122:16"
            },
            "returnParameters": {
              "id": 3481,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "8077:0:16"
            },
            "scope": 3483,
            "src": "7915:163:16",
            "stateMutability": "nonpayable",
            "virtual": true,
            "visibility": "internal"
          }
        ],
        "scope": 3484,
        "src": "271:7809:16",
        "usedErrors": []
      }
    ],
    "src": "32:8049:16"
  },
  "legacyAST": {
    "absolutePath": "project:/contracts/semperland/economy/SafeExchange.sol",
    "exportedSymbols": {
      "Context": [
        1764
      ],
      "SafeExchange": [
        3483
      ],
      "Strings": [
        1990
      ]
    },
    "id": 3484,
    "license": "MIT",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 2959,
        "literals": [
          "solidity",
          ">=",
          "0.8",
          "<",
          "0.9",
          ".0"
        ],
        "nodeType": "PragmaDirective",
        "src": "32:29:16"
      },
      {
        "absolutePath": "@openzeppelin/contracts/utils/Context.sol",
        "file": "@openzeppelin/contracts/utils/Context.sol",
        "id": 2960,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 3484,
        "sourceUnit": 1765,
        "src": "63:51:16",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@openzeppelin/contracts/utils/Strings.sol",
        "file": "@openzeppelin/contracts/utils/Strings.sol",
        "id": 2961,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 3484,
        "sourceUnit": 1991,
        "src": "115:51:16",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": true,
        "baseContracts": [
          {
            "baseName": {
              "id": 2963,
              "name": "Context",
              "nodeType": "IdentifierPath",
              "referencedDeclaration": 1764,
              "src": "305:7:16"
            },
            "id": 2964,
            "nodeType": "InheritanceSpecifier",
            "src": "305:7:16"
          }
        ],
        "canonicalName": "SafeExchange",
        "contractDependencies": [],
        "contractKind": "contract",
        "documentation": {
          "id": 2962,
          "nodeType": "StructuredDocumentation",
          "src": "168:102:16",
          "text": " These are features to implement a safe exchange in another\n contract inheriting this one."
        },
        "fullyImplemented": false,
        "id": 3483,
        "linearizedBaseContracts": [
          3483,
          1764
        ],
        "name": "SafeExchange",
        "nameLocation": "289:12:16",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "canonicalName": "SafeExchange.DealState",
            "id": 2967,
            "members": [
              {
                "id": 2965,
                "name": "CREATED",
                "nameLocation": "555:7:16",
                "nodeType": "EnumValue",
                "src": "555:7:16"
              },
              {
                "id": 2966,
                "name": "ACCEPTED",
                "nameLocation": "564:8:16",
                "nodeType": "EnumValue",
                "src": "564:8:16"
              }
            ],
            "name": "DealState",
            "nameLocation": "543:9:16",
            "nodeType": "EnumDefinition",
            "src": "538:36:16"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 2968,
              "nodeType": "StructuredDocumentation",
              "src": "580:67:16",
              "text": " This event is raised when a new deal is created."
            },
            "id": 2976,
            "name": "DealStarted",
            "nameLocation": "658:11:16",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 2975,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2970,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "dealId",
                  "nameLocation": "686:6:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2976,
                  "src": "670:22:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2969,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "670:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2972,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "emitter",
                  "nameLocation": "710:7:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2976,
                  "src": "694:23:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2971,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "694:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2974,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "receiver",
                  "nameLocation": "735:8:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2976,
                  "src": "719:24:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2973,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "719:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "669:75:16"
            },
            "src": "652:93:16"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 2977,
              "nodeType": "StructuredDocumentation",
              "src": "751:80:16",
              "text": " This event is raised when a deal is accepted by the receiver."
            },
            "id": 2985,
            "name": "DealAccepted",
            "nameLocation": "842:12:16",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 2984,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2979,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "dealId",
                  "nameLocation": "871:6:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2985,
                  "src": "855:22:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2978,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "855:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2981,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "emitter",
                  "nameLocation": "895:7:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2985,
                  "src": "879:23:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2980,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "879:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2983,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "receiver",
                  "nameLocation": "920:8:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2985,
                  "src": "904:24:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2982,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "904:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "854:75:16"
            },
            "src": "836:94:16"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 2986,
              "nodeType": "StructuredDocumentation",
              "src": "936:120:16",
              "text": " This event is raised when a deal is confirmed by its creator,\n after the receiver's acceptance."
            },
            "id": 2994,
            "name": "DealConfirmed",
            "nameLocation": "1067:13:16",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 2993,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2988,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "dealId",
                  "nameLocation": "1097:6:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2994,
                  "src": "1081:22:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2987,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1081:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2990,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "emitter",
                  "nameLocation": "1121:7:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2994,
                  "src": "1105:23:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2989,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1105:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2992,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "receiver",
                  "nameLocation": "1146:8:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 2994,
                  "src": "1130:24:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2991,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1130:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1080:75:16"
            },
            "src": "1061:95:16"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 2995,
              "nodeType": "StructuredDocumentation",
              "src": "1162:139:16",
              "text": " This event is raised when a deal is broken by its emitter, the\n receiver, or an operator on behalf of any of them."
            },
            "id": 3001,
            "name": "DealBroken",
            "nameLocation": "1312:10:16",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 3000,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2997,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "dealId",
                  "nameLocation": "1339:6:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3001,
                  "src": "1323:22:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2996,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1323:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2999,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "breaker",
                  "nameLocation": "1363:7:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3001,
                  "src": "1347:23:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2998,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1347:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1322:49:16"
            },
            "src": "1306:66:16"
          },
          {
            "canonicalName": "SafeExchange.Deal",
            "id": 3021,
            "members": [
              {
                "constant": false,
                "id": 3003,
                "mutability": "mutable",
                "name": "emitter",
                "nameLocation": "1532:7:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1524:15:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 3002,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "1524:7:16",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3005,
                "mutability": "mutable",
                "name": "receiver",
                "nameLocation": "1557:8:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1549:16:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 3004,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "1549:7:16",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3008,
                "mutability": "mutable",
                "name": "emitterTokenIds",
                "nameLocation": "1585:15:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1575:25:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                  "typeString": "uint256[]"
                },
                "typeName": {
                  "baseType": {
                    "id": 3006,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1575:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3007,
                  "nodeType": "ArrayTypeName",
                  "src": "1575:9:16",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                    "typeString": "uint256[]"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3011,
                "mutability": "mutable",
                "name": "emitterTokenAmounts",
                "nameLocation": "1620:19:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1610:29:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                  "typeString": "uint256[]"
                },
                "typeName": {
                  "baseType": {
                    "id": 3009,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1610:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3010,
                  "nodeType": "ArrayTypeName",
                  "src": "1610:9:16",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                    "typeString": "uint256[]"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3014,
                "mutability": "mutable",
                "name": "receiverTokenIds",
                "nameLocation": "1659:16:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1649:26:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                  "typeString": "uint256[]"
                },
                "typeName": {
                  "baseType": {
                    "id": 3012,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1649:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3013,
                  "nodeType": "ArrayTypeName",
                  "src": "1649:9:16",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                    "typeString": "uint256[]"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3017,
                "mutability": "mutable",
                "name": "receiverTokenAmounts",
                "nameLocation": "1695:20:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1685:30:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                  "typeString": "uint256[]"
                },
                "typeName": {
                  "baseType": {
                    "id": 3015,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1685:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3016,
                  "nodeType": "ArrayTypeName",
                  "src": "1685:9:16",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                    "typeString": "uint256[]"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3020,
                "mutability": "mutable",
                "name": "state",
                "nameLocation": "1735:5:16",
                "nodeType": "VariableDeclaration",
                "scope": 3021,
                "src": "1725:15:16",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_enum$_DealState_$2967",
                  "typeString": "enum SafeExchange.DealState"
                },
                "typeName": {
                  "id": 3019,
                  "nodeType": "UserDefinedTypeName",
                  "pathNode": {
                    "id": 3018,
                    "name": "DealState",
                    "nodeType": "IdentifierPath",
                    "referencedDeclaration": 2967,
                    "src": "1725:9:16"
                  },
                  "referencedDeclaration": 2967,
                  "src": "1725:9:16",
                  "typeDescriptions": {
                    "typeIdentifier": "t_enum$_DealState_$2967",
                    "typeString": "enum SafeExchange.DealState"
                  }
                },
                "visibility": "internal"
              }
            ],
            "name": "Deal",
            "nameLocation": "1509:4:16",
            "nodeType": "StructDefinition",
            "scope": 3483,
            "src": "1502:245:16",
            "visibility": "public"
          },
          {
            "constant": false,
            "id": 3024,
            "mutability": "mutable",
            "name": "currentDealIndex",
            "nameLocation": "1800:16:16",
            "nodeType": "VariableDeclaration",
            "scope": 3483,
            "src": "1784:36:16",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 3022,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1784:7:16",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "30",
              "id": 3023,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "1819:1:16",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_0_by_1",
                "typeString": "int_const 0"
              },
              "value": "0"
            },
            "visibility": "private"
          },
          {
            "constant": false,
            "documentation": {
              "id": 3025,
              "nodeType": "StructuredDocumentation",
              "src": "1827:70:16",
              "text": " All the ACTIVE / PENDING deals instantiated so far."
            },
            "functionSelector": "03988f84",
            "id": 3030,
            "mutability": "mutable",
            "name": "deals",
            "nameLocation": "1934:5:16",
            "nodeType": "VariableDeclaration",
            "scope": 3483,
            "src": "1902:37:16",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
              "typeString": "mapping(uint256 => struct SafeExchange.Deal)"
            },
            "typeName": {
              "id": 3029,
              "keyType": {
                "id": 3026,
                "name": "uint256",
                "nodeType": "ElementaryTypeName",
                "src": "1910:7:16",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                }
              },
              "nodeType": "Mapping",
              "src": "1902:24:16",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                "typeString": "mapping(uint256 => struct SafeExchange.Deal)"
              },
              "valueType": {
                "id": 3028,
                "nodeType": "UserDefinedTypeName",
                "pathNode": {
                  "id": 3027,
                  "name": "Deal",
                  "nodeType": "IdentifierPath",
                  "referencedDeclaration": 3021,
                  "src": "1921:4:16"
                },
                "referencedDeclaration": 3021,
                "src": "1921:4:16",
                "typeDescriptions": {
                  "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                  "typeString": "struct SafeExchange.Deal"
                }
              }
            },
            "visibility": "public"
          },
          {
            "body": {
              "id": 3155,
              "nodeType": "Block",
              "src": "2305:1316:16",
              "statements": [
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3057,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          "id": 3050,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3045,
                            "name": "_emitter",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3033,
                            "src": "2336:8:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "!=",
                          "rightExpression": {
                            "arguments": [
                              {
                                "hexValue": "30",
                                "id": 3048,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "number",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "2356:1:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                },
                                "value": "0"
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                }
                              ],
                              "id": 3047,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "nodeType": "ElementaryTypeNameExpression",
                              "src": "2348:7:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_type$_t_address_$",
                                "typeString": "type(address)"
                              },
                              "typeName": {
                                "id": 3046,
                                "name": "address",
                                "nodeType": "ElementaryTypeName",
                                "src": "2348:7:16",
                                "typeDescriptions": {}
                              }
                            },
                            "id": 3049,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "typeConversion",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "2348:10:16",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "src": "2336:22:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "&&",
                        "rightExpression": {
                          "commonType": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          "id": 3056,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3051,
                            "name": "_receiver",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3035,
                            "src": "2362:9:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "!=",
                          "rightExpression": {
                            "arguments": [
                              {
                                "hexValue": "30",
                                "id": 3054,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "number",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "2383:1:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                },
                                "value": "0"
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                }
                              ],
                              "id": 3053,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "nodeType": "ElementaryTypeNameExpression",
                              "src": "2375:7:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_type$_t_address_$",
                                "typeString": "type(address)"
                              },
                              "typeName": {
                                "id": 3052,
                                "name": "address",
                                "nodeType": "ElementaryTypeName",
                                "src": "2375:7:16",
                                "typeDescriptions": {}
                              }
                            },
                            "id": 3055,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "typeConversion",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "2375:10:16",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "src": "2362:23:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "2336:49:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a207472616e736665722066726f6d2f746f20746865207a65726f2061646472657373",
                        "id": 3058,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2399:49:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_c564980a65c27497be7608856299b4a44bf3c8ca62b1c57a0cc192f36730185c",
                          "typeString": "literal_string \"SafeExchange: transfer from/to the zero address\""
                        },
                        "value": "SafeExchange: transfer from/to the zero address"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_c564980a65c27497be7608856299b4a44bf3c8ca62b1c57a0cc192f36730185c",
                          "typeString": "literal_string \"SafeExchange: transfer from/to the zero address\""
                        }
                      ],
                      "id": 3044,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "2315:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3059,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2315:143:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3060,
                  "nodeType": "ExpressionStatement",
                  "src": "2315:143:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3071,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          "id": 3065,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3062,
                            "name": "_emitter",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3033,
                            "src": "2489:8:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "arguments": [],
                            "expression": {
                              "argumentTypes": [],
                              "id": 3063,
                              "name": "_msgSender",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 1754,
                              "src": "2501:10:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                "typeString": "function () view returns (address)"
                              }
                            },
                            "id": 3064,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "2501:12:16",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "src": "2489:24:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "arguments": [
                            {
                              "id": 3067,
                              "name": "_emitter",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3033,
                              "src": "2529:8:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            {
                              "arguments": [],
                              "expression": {
                                "argumentTypes": [],
                                "id": 3068,
                                "name": "_msgSender",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 1754,
                                "src": "2539:10:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                  "typeString": "function () view returns (address)"
                                }
                              },
                              "id": 3069,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "functionCall",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "2539:12:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 3066,
                            "name": "_isApproved",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3466,
                            "src": "2517:11:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_bool_$",
                              "typeString": "function (address,address) view returns (bool)"
                            }
                          },
                          "id": 3070,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "2517:35:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "2489:63:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a2063616c6c6572206973206e6f7420656d6974746572206e6f7220617070726f766564",
                        "id": 3072,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2566:50:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_d520a1163b7ed679d69f0ec0f04321310c8a4d1babbd2f97ced093cc16f09d91",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter nor approved\""
                        },
                        "value": "SafeExchange: caller is not emitter nor approved"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_d520a1163b7ed679d69f0ec0f04321310c8a4d1babbd2f97ced093cc16f09d91",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter nor approved\""
                        }
                      ],
                      "id": 3061,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "2468:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3073,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2468:158:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3074,
                  "nodeType": "ExpressionStatement",
                  "src": "2468:158:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3085,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3080,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "expression": {
                              "id": 3076,
                              "name": "_tokenIds",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3038,
                              "src": "2657:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3077,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "2657:16:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "expression": {
                              "id": 3078,
                              "name": "_tokenAmounts",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3041,
                              "src": "2677:13:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3079,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "2677:20:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "2657:40:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "&&",
                        "rightExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3084,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "expression": {
                              "id": 3081,
                              "name": "_tokenIds",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3038,
                              "src": "2701:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3082,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "2701:16:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "!=",
                          "rightExpression": {
                            "hexValue": "30",
                            "id": 3083,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "2721:1:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "2701:21:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "2657:65:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a20746f6b656e2069647320616e6420616d6f756e7473206c656e677468206d69736d61746368206f722030",
                        "id": 3086,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2736:58:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_1c817ae3dbdd1ca0a138e227f5cff86f3a4dcc93fc8444a90dad077a3da8e262",
                          "typeString": "literal_string \"SafeExchange: token ids and amounts length mismatch or 0\""
                        },
                        "value": "SafeExchange: token ids and amounts length mismatch or 0"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_1c817ae3dbdd1ca0a138e227f5cff86f3a4dcc93fc8444a90dad077a3da8e262",
                          "typeString": "literal_string \"SafeExchange: token ids and amounts length mismatch or 0\""
                        }
                      ],
                      "id": 3075,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "2636:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3087,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2636:168:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3088,
                  "nodeType": "ExpressionStatement",
                  "src": "2636:168:16"
                },
                {
                  "body": {
                    "id": 3120,
                    "nodeType": "Block",
                    "src": "2876:260:16",
                    "statements": [
                      {
                        "expression": {
                          "arguments": [
                            {
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "id": 3105,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "baseExpression": {
                                  "id": 3101,
                                  "name": "_tokenAmounts",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3041,
                                  "src": "2915:13:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                    "typeString": "uint256[] memory"
                                  }
                                },
                                "id": 3103,
                                "indexExpression": {
                                  "id": 3102,
                                  "name": "index",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3090,
                                  "src": "2929:5:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "nodeType": "IndexAccess",
                                "src": "2915:20:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "!=",
                              "rightExpression": {
                                "hexValue": "30",
                                "id": 3104,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "number",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "2939:1:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                },
                                "value": "0"
                              },
                              "src": "2915:25:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              }
                            },
                            {
                              "arguments": [
                                {
                                  "arguments": [
                                    {
                                      "hexValue": "5361666545786368616e67653a20746f6b656e20696e20706f736974696f6e20",
                                      "id": 3110,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "string",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "3003:34:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_stringliteral_e5e18df82f08a03b5363e00453d8acb988f9d7d06ad743f5f44606fca3b8c334",
                                        "typeString": "literal_string \"SafeExchange: token in position \""
                                      },
                                      "value": "SafeExchange: token in position "
                                    },
                                    {
                                      "arguments": [
                                        {
                                          "id": 3113,
                                          "name": "index",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 3090,
                                          "src": "3056:5:16",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint256",
                                            "typeString": "uint256"
                                          }
                                        }
                                      ],
                                      "expression": {
                                        "argumentTypes": [
                                          {
                                            "typeIdentifier": "t_uint256",
                                            "typeString": "uint256"
                                          }
                                        ],
                                        "expression": {
                                          "id": 3111,
                                          "name": "Strings",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 1990,
                                          "src": "3039:7:16",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_type$_t_contract$_Strings_$1990_$",
                                            "typeString": "type(library Strings)"
                                          }
                                        },
                                        "id": 3112,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": false,
                                        "lValueRequested": false,
                                        "memberName": "toString",
                                        "nodeType": "MemberAccess",
                                        "referencedDeclaration": 1852,
                                        "src": "3039:16:16",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_function_internal_pure$_t_uint256_$returns$_t_string_memory_ptr_$",
                                          "typeString": "function (uint256) pure returns (string memory)"
                                        }
                                      },
                                      "id": 3114,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "kind": "functionCall",
                                      "lValueRequested": false,
                                      "names": [],
                                      "nodeType": "FunctionCall",
                                      "src": "3039:23:16",
                                      "tryCall": false,
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_string_memory_ptr",
                                        "typeString": "string memory"
                                      }
                                    },
                                    {
                                      "hexValue": "206d757374206e6f74206861766520616d6f756e74206f662030",
                                      "id": 3115,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "string",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "3064:28:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_stringliteral_d853564bab57d38a8f8ace47e8f1c51ef8f41bd7687cb50dbd9a354a9d2b8b41",
                                        "typeString": "literal_string \" must not have amount of 0\""
                                      },
                                      "value": " must not have amount of 0"
                                    }
                                  ],
                                  "expression": {
                                    "argumentTypes": [
                                      {
                                        "typeIdentifier": "t_stringliteral_e5e18df82f08a03b5363e00453d8acb988f9d7d06ad743f5f44606fca3b8c334",
                                        "typeString": "literal_string \"SafeExchange: token in position \""
                                      },
                                      {
                                        "typeIdentifier": "t_string_memory_ptr",
                                        "typeString": "string memory"
                                      },
                                      {
                                        "typeIdentifier": "t_stringliteral_d853564bab57d38a8f8ace47e8f1c51ef8f41bd7687cb50dbd9a354a9d2b8b41",
                                        "typeString": "literal_string \" must not have amount of 0\""
                                      }
                                    ],
                                    "expression": {
                                      "id": 3108,
                                      "name": "abi",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 4294967295,
                                      "src": "2965:3:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_magic_abi",
                                        "typeString": "abi"
                                      }
                                    },
                                    "id": 3109,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "lValueRequested": false,
                                    "memberName": "encodePacked",
                                    "nodeType": "MemberAccess",
                                    "src": "2965:16:16",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",
                                      "typeString": "function () pure returns (bytes memory)"
                                    }
                                  },
                                  "id": 3116,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "kind": "functionCall",
                                  "lValueRequested": false,
                                  "names": [],
                                  "nodeType": "FunctionCall",
                                  "src": "2965:145:16",
                                  "tryCall": false,
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bytes_memory_ptr",
                                    "typeString": "bytes memory"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_bytes_memory_ptr",
                                    "typeString": "bytes memory"
                                  }
                                ],
                                "id": 3107,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "lValueRequested": false,
                                "nodeType": "ElementaryTypeNameExpression",
                                "src": "2958:6:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_string_storage_ptr_$",
                                  "typeString": "type(string storage pointer)"
                                },
                                "typeName": {
                                  "id": 3106,
                                  "name": "string",
                                  "nodeType": "ElementaryTypeName",
                                  "src": "2958:6:16",
                                  "typeDescriptions": {}
                                }
                              },
                              "id": 3117,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "typeConversion",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "2958:153:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_string_memory_ptr",
                                "typeString": "string memory"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              },
                              {
                                "typeIdentifier": "t_string_memory_ptr",
                                "typeString": "string memory"
                              }
                            ],
                            "id": 3100,
                            "name": "require",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [
                              4294967278,
                              4294967278
                            ],
                            "referencedDeclaration": 4294967278,
                            "src": "2890:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                              "typeString": "function (bool,string memory) pure"
                            }
                          },
                          "id": 3118,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "2890:235:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_tuple$__$",
                            "typeString": "tuple()"
                          }
                        },
                        "id": 3119,
                        "nodeType": "ExpressionStatement",
                        "src": "2890:235:16"
                      }
                    ]
                  },
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 3096,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 3093,
                      "name": "index",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3090,
                      "src": "2837:5:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "expression": {
                        "id": 3094,
                        "name": "_tokenAmounts",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3041,
                        "src": "2845:13:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      },
                      "id": 3095,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "length",
                      "nodeType": "MemberAccess",
                      "src": "2845:20:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "2837:28:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 3121,
                  "initializationExpression": {
                    "assignments": [
                      3090
                    ],
                    "declarations": [
                      {
                        "constant": false,
                        "id": 3090,
                        "mutability": "mutable",
                        "name": "index",
                        "nameLocation": "2826:5:16",
                        "nodeType": "VariableDeclaration",
                        "scope": 3121,
                        "src": "2818:13:16",
                        "stateVariable": false,
                        "storageLocation": "default",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "typeName": {
                          "id": 3089,
                          "name": "uint256",
                          "nodeType": "ElementaryTypeName",
                          "src": "2818:7:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "visibility": "internal"
                      }
                    ],
                    "id": 3092,
                    "initialValue": {
                      "hexValue": "30",
                      "id": 3091,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "2834:1:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "nodeType": "VariableDeclarationStatement",
                    "src": "2818:17:16"
                  },
                  "loopExpression": {
                    "expression": {
                      "id": 3098,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "UnaryOperation",
                      "operator": "++",
                      "prefix": false,
                      "src": "2867:7:16",
                      "subExpression": {
                        "id": 3097,
                        "name": "index",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3090,
                        "src": "2867:5:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3099,
                    "nodeType": "ExpressionStatement",
                    "src": "2867:7:16"
                  },
                  "nodeType": "ForStatement",
                  "src": "2814:322:16"
                },
                {
                  "expression": {
                    "id": 3124,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 3122,
                      "name": "currentDealIndex",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3024,
                      "src": "3213:16:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "hexValue": "31",
                      "id": 3123,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3233:1:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_1_by_1",
                        "typeString": "int_const 1"
                      },
                      "value": "1"
                    },
                    "src": "3213:21:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3125,
                  "nodeType": "ExpressionStatement",
                  "src": "3213:21:16"
                },
                {
                  "expression": {
                    "id": 3147,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "baseExpression": {
                        "id": 3126,
                        "name": "deals",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3030,
                        "src": "3244:5:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                          "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                        }
                      },
                      "id": 3128,
                      "indexExpression": {
                        "id": 3127,
                        "name": "currentDealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3024,
                        "src": "3250:16:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "3244:23:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage",
                        "typeString": "struct SafeExchange.Deal storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "id": 3130,
                          "name": "_emitter",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3033,
                          "src": "3298:8:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        {
                          "id": 3131,
                          "name": "_receiver",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3035,
                          "src": "3318:9:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        {
                          "id": 3132,
                          "name": "_tokenIds",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3038,
                          "src": "3346:9:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        },
                        {
                          "id": 3133,
                          "name": "_tokenAmounts",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3041,
                          "src": "3378:13:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        },
                        {
                          "expression": {
                            "id": 3134,
                            "name": "DealState",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 2967,
                            "src": "3412:9:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_enum$_DealState_$2967_$",
                              "typeString": "type(enum SafeExchange.DealState)"
                            }
                          },
                          "id": 3135,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "memberName": "CREATED",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 2965,
                          "src": "3412:17:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          }
                        },
                        {
                          "arguments": [
                            {
                              "hexValue": "30",
                              "id": 3139,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "3463:1:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              }
                            ],
                            "id": 3138,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "NewExpression",
                            "src": "3449:13:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",
                              "typeString": "function (uint256) pure returns (uint256[] memory)"
                            },
                            "typeName": {
                              "baseType": {
                                "id": 3136,
                                "name": "uint256",
                                "nodeType": "ElementaryTypeName",
                                "src": "3453:7:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 3137,
                              "nodeType": "ArrayTypeName",
                              "src": "3453:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                                "typeString": "uint256[]"
                              }
                            }
                          },
                          "id": 3140,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3449:16:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        },
                        {
                          "arguments": [
                            {
                              "hexValue": "30",
                              "id": 3144,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "3503:1:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              }
                            ],
                            "id": 3143,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "NewExpression",
                            "src": "3489:13:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",
                              "typeString": "function (uint256) pure returns (uint256[] memory)"
                            },
                            "typeName": {
                              "baseType": {
                                "id": 3141,
                                "name": "uint256",
                                "nodeType": "ElementaryTypeName",
                                "src": "3493:7:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 3142,
                              "nodeType": "ArrayTypeName",
                              "src": "3493:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                                "typeString": "uint256[]"
                              }
                            }
                          },
                          "id": 3145,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3489:16:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          },
                          {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          },
                          {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          },
                          {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          },
                          {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        ],
                        "id": 3129,
                        "name": "Deal",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3021,
                        "src": "3270:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_struct$_Deal_$3021_storage_ptr_$",
                          "typeString": "type(struct SafeExchange.Deal storage pointer)"
                        }
                      },
                      "id": 3146,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "structConstructorCall",
                      "lValueRequested": false,
                      "names": [
                        "emitter",
                        "receiver",
                        "emitterTokenIds",
                        "emitterTokenAmounts",
                        "state",
                        "receiverTokenIds",
                        "receiverTokenAmounts"
                      ],
                      "nodeType": "FunctionCall",
                      "src": "3270:246:16",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_memory_ptr",
                        "typeString": "struct SafeExchange.Deal memory"
                      }
                    },
                    "src": "3244:272:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Deal_$3021_storage",
                      "typeString": "struct SafeExchange.Deal storage ref"
                    }
                  },
                  "id": 3148,
                  "nodeType": "ExpressionStatement",
                  "src": "3244:272:16"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "id": 3150,
                        "name": "currentDealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3024,
                        "src": "3576:16:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 3151,
                        "name": "_emitter",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3033,
                        "src": "3594:8:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 3152,
                        "name": "_receiver",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3035,
                        "src": "3604:9:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 3149,
                      "name": "DealStarted",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 2976,
                      "src": "3564:11:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$_t_address_$returns$__$",
                        "typeString": "function (uint256,address,address)"
                      }
                    },
                    "id": 3153,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3564:50:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3154,
                  "nodeType": "EmitStatement",
                  "src": "3559:55:16"
                }
              ]
            },
            "documentation": {
              "id": 3031,
              "nodeType": "StructuredDocumentation",
              "src": "1946:217:16",
              "text": " Starting a deal requires the sender to be the _emitter address\n or an address the sender can operate on their behalf. Also, the\n objects data must be non-empty, and no element must be 0."
            },
            "functionSelector": "e067bd6f",
            "id": 3156,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "dealStart",
            "nameLocation": "2177:9:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3042,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3033,
                  "mutability": "mutable",
                  "name": "_emitter",
                  "nameLocation": "2204:8:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3156,
                  "src": "2196:16:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3032,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2196:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3035,
                  "mutability": "mutable",
                  "name": "_receiver",
                  "nameLocation": "2222:9:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3156,
                  "src": "2214:17:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3034,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2214:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3038,
                  "mutability": "mutable",
                  "name": "_tokenIds",
                  "nameLocation": "2250:9:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3156,
                  "src": "2233:26:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3036,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "2233:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3037,
                    "nodeType": "ArrayTypeName",
                    "src": "2233:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3041,
                  "mutability": "mutable",
                  "name": "_tokenAmounts",
                  "nameLocation": "2278:13:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3156,
                  "src": "2261:30:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3039,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "2261:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3040,
                    "nodeType": "ArrayTypeName",
                    "src": "2261:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2186:111:16"
            },
            "returnParameters": {
              "id": 3043,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "2305:0:16"
            },
            "scope": 3483,
            "src": "2168:1453:16",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 3291,
              "nodeType": "Block",
              "src": "4024:1329:16",
              "statements": [
                {
                  "assignments": [
                    3170
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3170,
                      "mutability": "mutable",
                      "name": "deal",
                      "nameLocation": "4047:4:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3291,
                      "src": "4034:17:16",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal"
                      },
                      "typeName": {
                        "id": 3169,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 3168,
                          "name": "Deal",
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 3021,
                          "src": "4034:4:16"
                        },
                        "referencedDeclaration": 3021,
                        "src": "4034:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3174,
                  "initialValue": {
                    "baseExpression": {
                      "id": 3171,
                      "name": "deals",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3030,
                      "src": "4054:5:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                        "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                      }
                    },
                    "id": 3173,
                    "indexExpression": {
                      "id": 3172,
                      "name": "_dealIndex",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3159,
                      "src": "4060:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "4054:17:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Deal_$3021_storage",
                      "typeString": "struct SafeExchange.Deal storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4034:37:16"
                },
                {
                  "assignments": [
                    3176
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3176,
                      "mutability": "mutable",
                      "name": "receiver",
                      "nameLocation": "4089:8:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3291,
                      "src": "4081:16:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "typeName": {
                        "id": 3175,
                        "name": "address",
                        "nodeType": "ElementaryTypeName",
                        "src": "4081:7:16",
                        "stateMutability": "nonpayable",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3179,
                  "initialValue": {
                    "expression": {
                      "id": 3177,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3170,
                      "src": "4100:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3178,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "receiver",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3005,
                    "src": "4100:13:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4081:32:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        "id": 3186,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3181,
                          "name": "receiver",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3176,
                          "src": "4144:8:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "!=",
                        "rightExpression": {
                          "arguments": [
                            {
                              "hexValue": "30",
                              "id": 3184,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "4164:1:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              }
                            ],
                            "id": 3183,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "ElementaryTypeNameExpression",
                            "src": "4156:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_address_$",
                              "typeString": "type(address)"
                            },
                            "typeName": {
                              "id": 3182,
                              "name": "address",
                              "nodeType": "ElementaryTypeName",
                              "src": "4156:7:16",
                              "typeDescriptions": {}
                            }
                          },
                          "id": 3185,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "4156:10:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "src": "4144:22:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a20696e76616c6964206465616c",
                        "id": 3187,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4180:28:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        },
                        "value": "SafeExchange: invalid deal"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        }
                      ],
                      "id": 3180,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "4123:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3188,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4123:95:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3189,
                  "nodeType": "ExpressionStatement",
                  "src": "4123:95:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3200,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          "id": 3194,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3191,
                            "name": "receiver",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3176,
                            "src": "4249:8:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "arguments": [],
                            "expression": {
                              "argumentTypes": [],
                              "id": 3192,
                              "name": "_msgSender",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 1754,
                              "src": "4261:10:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                "typeString": "function () view returns (address)"
                              }
                            },
                            "id": 3193,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "4261:12:16",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "src": "4249:24:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "arguments": [
                            {
                              "id": 3196,
                              "name": "receiver",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3176,
                              "src": "4289:8:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            {
                              "arguments": [],
                              "expression": {
                                "argumentTypes": [],
                                "id": 3197,
                                "name": "_msgSender",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 1754,
                                "src": "4299:10:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                  "typeString": "function () view returns (address)"
                                }
                              },
                              "id": 3198,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "functionCall",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "4299:12:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 3195,
                            "name": "_isApproved",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3466,
                            "src": "4277:11:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_bool_$",
                              "typeString": "function (address,address) view returns (bool)"
                            }
                          },
                          "id": 3199,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "4277:35:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "4249:63:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a2063616c6c6572206973206e6f74207265636569766572206e6f7220617070726f766564",
                        "id": 3201,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4326:51:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_a12e7d3ae022477f02e5be61400be1fe27a3588e389f8a35f66cd3a0151e730f",
                          "typeString": "literal_string \"SafeExchange: caller is not receiver nor approved\""
                        },
                        "value": "SafeExchange: caller is not receiver nor approved"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_a12e7d3ae022477f02e5be61400be1fe27a3588e389f8a35f66cd3a0151e730f",
                          "typeString": "literal_string \"SafeExchange: caller is not receiver nor approved\""
                        }
                      ],
                      "id": 3190,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "4228:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3202,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4228:159:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3203,
                  "nodeType": "ExpressionStatement",
                  "src": "4228:159:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3214,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3209,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "expression": {
                              "id": 3205,
                              "name": "_tokenIds",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3162,
                              "src": "4418:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3206,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "4418:16:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "expression": {
                              "id": 3207,
                              "name": "_tokenAmounts",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3165,
                              "src": "4438:13:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3208,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "4438:20:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "4418:40:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "&&",
                        "rightExpression": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3213,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "expression": {
                              "id": 3210,
                              "name": "_tokenIds",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3162,
                              "src": "4462:9:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3211,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "src": "4462:16:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "!=",
                          "rightExpression": {
                            "hexValue": "30",
                            "id": 3212,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "4482:1:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "4462:21:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "4418:65:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a20746f6b656e2069647320616e6420616d6f756e7473206c656e677468206d69736d61746368206f722030",
                        "id": 3215,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4497:58:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_1c817ae3dbdd1ca0a138e227f5cff86f3a4dcc93fc8444a90dad077a3da8e262",
                          "typeString": "literal_string \"SafeExchange: token ids and amounts length mismatch or 0\""
                        },
                        "value": "SafeExchange: token ids and amounts length mismatch or 0"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_1c817ae3dbdd1ca0a138e227f5cff86f3a4dcc93fc8444a90dad077a3da8e262",
                          "typeString": "literal_string \"SafeExchange: token ids and amounts length mismatch or 0\""
                        }
                      ],
                      "id": 3204,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "4397:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3216,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4397:168:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3217,
                  "nodeType": "ExpressionStatement",
                  "src": "4397:168:16"
                },
                {
                  "assignments": [
                    3220
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3220,
                      "mutability": "mutable",
                      "name": "state",
                      "nameLocation": "4585:5:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3291,
                      "src": "4575:15:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_enum$_DealState_$2967",
                        "typeString": "enum SafeExchange.DealState"
                      },
                      "typeName": {
                        "id": 3219,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 3218,
                          "name": "DealState",
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 2967,
                          "src": "4575:9:16"
                        },
                        "referencedDeclaration": 2967,
                        "src": "4575:9:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_enum$_DealState_$2967",
                          "typeString": "enum SafeExchange.DealState"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3223,
                  "initialValue": {
                    "expression": {
                      "id": 3221,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3170,
                      "src": "4593:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3222,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "state",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3020,
                    "src": "4593:10:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_enum$_DealState_$2967",
                      "typeString": "enum SafeExchange.DealState"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4575:28:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_enum$_DealState_$2967",
                          "typeString": "enum SafeExchange.DealState"
                        },
                        "id": 3228,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3225,
                          "name": "state",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3220,
                          "src": "4634:5:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "==",
                        "rightExpression": {
                          "expression": {
                            "id": 3226,
                            "name": "DealState",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 2967,
                            "src": "4643:9:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_enum$_DealState_$2967_$",
                              "typeString": "type(enum SafeExchange.DealState)"
                            }
                          },
                          "id": 3227,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "memberName": "CREATED",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 2965,
                          "src": "4643:17:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          }
                        },
                        "src": "4634:26:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a206465616c206973206e6f7420696e206a7573742d63726561746564207374617465",
                        "id": 3229,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4674:49:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_60517d537c0d44d159caea8a90958c684e7f75861563d7452e8d886c091fe2b1",
                          "typeString": "literal_string \"SafeExchange: deal is not in just-created state\""
                        },
                        "value": "SafeExchange: deal is not in just-created state"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_60517d537c0d44d159caea8a90958c684e7f75861563d7452e8d886c091fe2b1",
                          "typeString": "literal_string \"SafeExchange: deal is not in just-created state\""
                        }
                      ],
                      "id": 3224,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "4613:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3230,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4613:120:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3231,
                  "nodeType": "ExpressionStatement",
                  "src": "4613:120:16"
                },
                {
                  "body": {
                    "id": 3263,
                    "nodeType": "Block",
                    "src": "4805:260:16",
                    "statements": [
                      {
                        "expression": {
                          "arguments": [
                            {
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "id": 3248,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "baseExpression": {
                                  "id": 3244,
                                  "name": "_tokenAmounts",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3165,
                                  "src": "4844:13:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                    "typeString": "uint256[] memory"
                                  }
                                },
                                "id": 3246,
                                "indexExpression": {
                                  "id": 3245,
                                  "name": "index",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3233,
                                  "src": "4858:5:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "nodeType": "IndexAccess",
                                "src": "4844:20:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "!=",
                              "rightExpression": {
                                "hexValue": "30",
                                "id": 3247,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "number",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "4868:1:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_rational_0_by_1",
                                  "typeString": "int_const 0"
                                },
                                "value": "0"
                              },
                              "src": "4844:25:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              }
                            },
                            {
                              "arguments": [
                                {
                                  "arguments": [
                                    {
                                      "hexValue": "5361666545786368616e67653a20746f6b656e20696e20706f736974696f6e20",
                                      "id": 3253,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "string",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "4932:34:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_stringliteral_e5e18df82f08a03b5363e00453d8acb988f9d7d06ad743f5f44606fca3b8c334",
                                        "typeString": "literal_string \"SafeExchange: token in position \""
                                      },
                                      "value": "SafeExchange: token in position "
                                    },
                                    {
                                      "arguments": [
                                        {
                                          "id": 3256,
                                          "name": "index",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 3233,
                                          "src": "4985:5:16",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint256",
                                            "typeString": "uint256"
                                          }
                                        }
                                      ],
                                      "expression": {
                                        "argumentTypes": [
                                          {
                                            "typeIdentifier": "t_uint256",
                                            "typeString": "uint256"
                                          }
                                        ],
                                        "expression": {
                                          "id": 3254,
                                          "name": "Strings",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 1990,
                                          "src": "4968:7:16",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_type$_t_contract$_Strings_$1990_$",
                                            "typeString": "type(library Strings)"
                                          }
                                        },
                                        "id": 3255,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": false,
                                        "lValueRequested": false,
                                        "memberName": "toString",
                                        "nodeType": "MemberAccess",
                                        "referencedDeclaration": 1852,
                                        "src": "4968:16:16",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_function_internal_pure$_t_uint256_$returns$_t_string_memory_ptr_$",
                                          "typeString": "function (uint256) pure returns (string memory)"
                                        }
                                      },
                                      "id": 3257,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "kind": "functionCall",
                                      "lValueRequested": false,
                                      "names": [],
                                      "nodeType": "FunctionCall",
                                      "src": "4968:23:16",
                                      "tryCall": false,
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_string_memory_ptr",
                                        "typeString": "string memory"
                                      }
                                    },
                                    {
                                      "hexValue": "206d757374206e6f74206861766520616d6f756e74206f662030",
                                      "id": 3258,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "string",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "4993:28:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_stringliteral_d853564bab57d38a8f8ace47e8f1c51ef8f41bd7687cb50dbd9a354a9d2b8b41",
                                        "typeString": "literal_string \" must not have amount of 0\""
                                      },
                                      "value": " must not have amount of 0"
                                    }
                                  ],
                                  "expression": {
                                    "argumentTypes": [
                                      {
                                        "typeIdentifier": "t_stringliteral_e5e18df82f08a03b5363e00453d8acb988f9d7d06ad743f5f44606fca3b8c334",
                                        "typeString": "literal_string \"SafeExchange: token in position \""
                                      },
                                      {
                                        "typeIdentifier": "t_string_memory_ptr",
                                        "typeString": "string memory"
                                      },
                                      {
                                        "typeIdentifier": "t_stringliteral_d853564bab57d38a8f8ace47e8f1c51ef8f41bd7687cb50dbd9a354a9d2b8b41",
                                        "typeString": "literal_string \" must not have amount of 0\""
                                      }
                                    ],
                                    "expression": {
                                      "id": 3251,
                                      "name": "abi",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 4294967295,
                                      "src": "4894:3:16",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_magic_abi",
                                        "typeString": "abi"
                                      }
                                    },
                                    "id": 3252,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "lValueRequested": false,
                                    "memberName": "encodePacked",
                                    "nodeType": "MemberAccess",
                                    "src": "4894:16:16",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",
                                      "typeString": "function () pure returns (bytes memory)"
                                    }
                                  },
                                  "id": 3259,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "kind": "functionCall",
                                  "lValueRequested": false,
                                  "names": [],
                                  "nodeType": "FunctionCall",
                                  "src": "4894:145:16",
                                  "tryCall": false,
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bytes_memory_ptr",
                                    "typeString": "bytes memory"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_bytes_memory_ptr",
                                    "typeString": "bytes memory"
                                  }
                                ],
                                "id": 3250,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "lValueRequested": false,
                                "nodeType": "ElementaryTypeNameExpression",
                                "src": "4887:6:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_string_storage_ptr_$",
                                  "typeString": "type(string storage pointer)"
                                },
                                "typeName": {
                                  "id": 3249,
                                  "name": "string",
                                  "nodeType": "ElementaryTypeName",
                                  "src": "4887:6:16",
                                  "typeDescriptions": {}
                                }
                              },
                              "id": 3260,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "typeConversion",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "4887:153:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_string_memory_ptr",
                                "typeString": "string memory"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              },
                              {
                                "typeIdentifier": "t_string_memory_ptr",
                                "typeString": "string memory"
                              }
                            ],
                            "id": 3243,
                            "name": "require",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [
                              4294967278,
                              4294967278
                            ],
                            "referencedDeclaration": 4294967278,
                            "src": "4819:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                              "typeString": "function (bool,string memory) pure"
                            }
                          },
                          "id": 3261,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "4819:235:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_tuple$__$",
                            "typeString": "tuple()"
                          }
                        },
                        "id": 3262,
                        "nodeType": "ExpressionStatement",
                        "src": "4819:235:16"
                      }
                    ]
                  },
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 3239,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 3236,
                      "name": "index",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3233,
                      "src": "4766:5:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "expression": {
                        "id": 3237,
                        "name": "_tokenAmounts",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3165,
                        "src": "4774:13:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      },
                      "id": 3238,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "length",
                      "nodeType": "MemberAccess",
                      "src": "4774:20:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4766:28:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 3264,
                  "initializationExpression": {
                    "assignments": [
                      3233
                    ],
                    "declarations": [
                      {
                        "constant": false,
                        "id": 3233,
                        "mutability": "mutable",
                        "name": "index",
                        "nameLocation": "4755:5:16",
                        "nodeType": "VariableDeclaration",
                        "scope": 3264,
                        "src": "4747:13:16",
                        "stateVariable": false,
                        "storageLocation": "default",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "typeName": {
                          "id": 3232,
                          "name": "uint256",
                          "nodeType": "ElementaryTypeName",
                          "src": "4747:7:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "visibility": "internal"
                      }
                    ],
                    "id": 3235,
                    "initialValue": {
                      "hexValue": "30",
                      "id": 3234,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "4763:1:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "nodeType": "VariableDeclarationStatement",
                    "src": "4747:17:16"
                  },
                  "loopExpression": {
                    "expression": {
                      "id": 3241,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "UnaryOperation",
                      "operator": "++",
                      "prefix": false,
                      "src": "4796:7:16",
                      "subExpression": {
                        "id": 3240,
                        "name": "index",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3233,
                        "src": "4796:5:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3242,
                    "nodeType": "ExpressionStatement",
                    "src": "4796:7:16"
                  },
                  "nodeType": "ForStatement",
                  "src": "4743:322:16"
                },
                {
                  "expression": {
                    "id": 3270,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "id": 3265,
                        "name": "deal",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3170,
                        "src": "5125:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal storage pointer"
                        }
                      },
                      "id": 3267,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "state",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3020,
                      "src": "5125:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_enum$_DealState_$2967",
                        "typeString": "enum SafeExchange.DealState"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "expression": {
                        "id": 3268,
                        "name": "DealState",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 2967,
                        "src": "5138:9:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_enum$_DealState_$2967_$",
                          "typeString": "type(enum SafeExchange.DealState)"
                        }
                      },
                      "id": 3269,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "memberName": "ACCEPTED",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 2966,
                      "src": "5138:18:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_enum$_DealState_$2967",
                        "typeString": "enum SafeExchange.DealState"
                      }
                    },
                    "src": "5125:31:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_enum$_DealState_$2967",
                      "typeString": "enum SafeExchange.DealState"
                    }
                  },
                  "id": 3271,
                  "nodeType": "ExpressionStatement",
                  "src": "5125:31:16"
                },
                {
                  "expression": {
                    "id": 3276,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "id": 3272,
                        "name": "deal",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3170,
                        "src": "5166:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal storage pointer"
                        }
                      },
                      "id": 3274,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "receiverTokenIds",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3014,
                      "src": "5166:21:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                        "typeString": "uint256[] storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "id": 3275,
                      "name": "_tokenIds",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3162,
                      "src": "5190:9:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                        "typeString": "uint256[] memory"
                      }
                    },
                    "src": "5166:33:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                      "typeString": "uint256[] storage ref"
                    }
                  },
                  "id": 3277,
                  "nodeType": "ExpressionStatement",
                  "src": "5166:33:16"
                },
                {
                  "expression": {
                    "id": 3282,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "id": 3278,
                        "name": "deal",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3170,
                        "src": "5209:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal storage pointer"
                        }
                      },
                      "id": 3280,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "receiverTokenAmounts",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3017,
                      "src": "5209:25:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                        "typeString": "uint256[] storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "id": 3281,
                      "name": "_tokenAmounts",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3165,
                      "src": "5237:13:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                        "typeString": "uint256[] memory"
                      }
                    },
                    "src": "5209:41:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                      "typeString": "uint256[] storage ref"
                    }
                  },
                  "id": 3283,
                  "nodeType": "ExpressionStatement",
                  "src": "5209:41:16"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "id": 3285,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3159,
                        "src": "5311:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 3286,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3170,
                          "src": "5323:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3287,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitter",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3003,
                        "src": "5323:12:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 3288,
                        "name": "receiver",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3176,
                        "src": "5337:8:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 3284,
                      "name": "DealAccepted",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 2985,
                      "src": "5298:12:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$_t_address_$returns$__$",
                        "typeString": "function (uint256,address,address)"
                      }
                    },
                    "id": 3289,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5298:48:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3290,
                  "nodeType": "EmitStatement",
                  "src": "5293:53:16"
                }
              ]
            },
            "documentation": {
              "id": 3157,
              "nodeType": "StructuredDocumentation",
              "src": "3627:281:16",
              "text": " Accepting a deal requires the deal to be valid, the sender to\n be the deal receiver (or an allowed operator of the deal receiver),\n and the deal to be in the appropriate state. Also, the objects data\n must be non-empty and no element must be 0."
            },
            "functionSelector": "d22d2359",
            "id": 3292,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "dealAccept",
            "nameLocation": "3922:10:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3166,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3159,
                  "mutability": "mutable",
                  "name": "_dealIndex",
                  "nameLocation": "3941:10:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3292,
                  "src": "3933:18:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3158,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3933:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3162,
                  "mutability": "mutable",
                  "name": "_tokenIds",
                  "nameLocation": "3970:9:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3292,
                  "src": "3953:26:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3160,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "3953:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3161,
                    "nodeType": "ArrayTypeName",
                    "src": "3953:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3165,
                  "mutability": "mutable",
                  "name": "_tokenAmounts",
                  "nameLocation": "3998:13:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3292,
                  "src": "3981:30:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3163,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "3981:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3164,
                    "nodeType": "ArrayTypeName",
                    "src": "3981:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3932:80:16"
            },
            "returnParameters": {
              "id": 3167,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "4024:0:16"
            },
            "scope": 3483,
            "src": "3913:1440:16",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 3385,
              "nodeType": "Block",
              "src": "5622:1114:16",
              "statements": [
                {
                  "assignments": [
                    3300
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3300,
                      "mutability": "mutable",
                      "name": "deal",
                      "nameLocation": "5645:4:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3385,
                      "src": "5632:17:16",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal"
                      },
                      "typeName": {
                        "id": 3299,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 3298,
                          "name": "Deal",
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 3021,
                          "src": "5632:4:16"
                        },
                        "referencedDeclaration": 3021,
                        "src": "5632:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3304,
                  "initialValue": {
                    "baseExpression": {
                      "id": 3301,
                      "name": "deals",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3030,
                      "src": "5652:5:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                        "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                      }
                    },
                    "id": 3303,
                    "indexExpression": {
                      "id": 3302,
                      "name": "_dealIndex",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3295,
                      "src": "5658:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "5652:17:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Deal_$3021_storage",
                      "typeString": "struct SafeExchange.Deal storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "5632:37:16"
                },
                {
                  "assignments": [
                    3306
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3306,
                      "mutability": "mutable",
                      "name": "emitter",
                      "nameLocation": "5687:7:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3385,
                      "src": "5679:15:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "typeName": {
                        "id": 3305,
                        "name": "address",
                        "nodeType": "ElementaryTypeName",
                        "src": "5679:7:16",
                        "stateMutability": "nonpayable",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3309,
                  "initialValue": {
                    "expression": {
                      "id": 3307,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3300,
                      "src": "5697:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3308,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "emitter",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3003,
                    "src": "5697:12:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "5679:30:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        "id": 3316,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3311,
                          "name": "emitter",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3306,
                          "src": "5740:7:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "!=",
                        "rightExpression": {
                          "arguments": [
                            {
                              "hexValue": "30",
                              "id": 3314,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "5759:1:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              }
                            ],
                            "id": 3313,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "ElementaryTypeNameExpression",
                            "src": "5751:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_address_$",
                              "typeString": "type(address)"
                            },
                            "typeName": {
                              "id": 3312,
                              "name": "address",
                              "nodeType": "ElementaryTypeName",
                              "src": "5751:7:16",
                              "typeDescriptions": {}
                            }
                          },
                          "id": 3315,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "5751:10:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "src": "5740:21:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a20696e76616c6964206465616c",
                        "id": 3317,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "5775:28:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        },
                        "value": "SafeExchange: invalid deal"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        }
                      ],
                      "id": 3310,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "5719:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3318,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5719:94:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3319,
                  "nodeType": "ExpressionStatement",
                  "src": "5719:94:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3330,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          "id": 3324,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3321,
                            "name": "emitter",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3306,
                            "src": "5844:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "arguments": [],
                            "expression": {
                              "argumentTypes": [],
                              "id": 3322,
                              "name": "_msgSender",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 1754,
                              "src": "5855:10:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                "typeString": "function () view returns (address)"
                              }
                            },
                            "id": 3323,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "5855:12:16",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "src": "5844:23:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "arguments": [
                            {
                              "id": 3326,
                              "name": "emitter",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3306,
                              "src": "5883:7:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            {
                              "arguments": [],
                              "expression": {
                                "argumentTypes": [],
                                "id": 3327,
                                "name": "_msgSender",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 1754,
                                "src": "5892:10:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                                  "typeString": "function () view returns (address)"
                                }
                              },
                              "id": 3328,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "functionCall",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "5892:12:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 3325,
                            "name": "_isApproved",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3466,
                            "src": "5871:11:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_bool_$",
                              "typeString": "function (address,address) view returns (bool)"
                            }
                          },
                          "id": 3329,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "5871:34:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "5844:61:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a2063616c6c6572206973206e6f7420656d6974746572206e6f7220617070726f766564",
                        "id": 3331,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "5919:50:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_d520a1163b7ed679d69f0ec0f04321310c8a4d1babbd2f97ced093cc16f09d91",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter nor approved\""
                        },
                        "value": "SafeExchange: caller is not emitter nor approved"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_d520a1163b7ed679d69f0ec0f04321310c8a4d1babbd2f97ced093cc16f09d91",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter nor approved\""
                        }
                      ],
                      "id": 3320,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "5823:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3332,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5823:156:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3333,
                  "nodeType": "ExpressionStatement",
                  "src": "5823:156:16"
                },
                {
                  "assignments": [
                    3336
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3336,
                      "mutability": "mutable",
                      "name": "state",
                      "nameLocation": "5999:5:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3385,
                      "src": "5989:15:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_enum$_DealState_$2967",
                        "typeString": "enum SafeExchange.DealState"
                      },
                      "typeName": {
                        "id": 3335,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 3334,
                          "name": "DealState",
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 2967,
                          "src": "5989:9:16"
                        },
                        "referencedDeclaration": 2967,
                        "src": "5989:9:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_enum$_DealState_$2967",
                          "typeString": "enum SafeExchange.DealState"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3339,
                  "initialValue": {
                    "expression": {
                      "id": 3337,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3300,
                      "src": "6007:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3338,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "state",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3020,
                    "src": "6007:10:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_enum$_DealState_$2967",
                      "typeString": "enum SafeExchange.DealState"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "5989:28:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_enum$_DealState_$2967",
                          "typeString": "enum SafeExchange.DealState"
                        },
                        "id": 3344,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3341,
                          "name": "state",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3336,
                          "src": "6048:5:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "==",
                        "rightExpression": {
                          "expression": {
                            "id": 3342,
                            "name": "DealState",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 2967,
                            "src": "6057:9:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_enum$_DealState_$2967_$",
                              "typeString": "type(enum SafeExchange.DealState)"
                            }
                          },
                          "id": 3343,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "memberName": "ACCEPTED",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 2966,
                          "src": "6057:18:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_enum$_DealState_$2967",
                            "typeString": "enum SafeExchange.DealState"
                          }
                        },
                        "src": "6048:27:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a206465616c206973206e6f7420696e206a7573742d6163636570746564207374617465",
                        "id": 3345,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "6089:50:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_ab1e1dac828544dd4ca9b592d7b80d9d3023e19983fcf7922e8272d4b970e7b1",
                          "typeString": "literal_string \"SafeExchange: deal is not in just-accepted state\""
                        },
                        "value": "SafeExchange: deal is not in just-accepted state"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_ab1e1dac828544dd4ca9b592d7b80d9d3023e19983fcf7922e8272d4b970e7b1",
                          "typeString": "literal_string \"SafeExchange: deal is not in just-accepted state\""
                        }
                      ],
                      "id": 3340,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "6027:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3346,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6027:122:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3347,
                  "nodeType": "ExpressionStatement",
                  "src": "6027:122:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 3349,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3295,
                        "src": "6338:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 3350,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6350:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3351,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitter",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3003,
                        "src": "6350:12:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "expression": {
                          "id": 3352,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6364:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3353,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "receiver",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3005,
                        "src": "6364:13:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "expression": {
                          "id": 3354,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6379:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3355,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitterTokenIds",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3008,
                        "src": "6379:20:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      },
                      {
                        "expression": {
                          "id": 3356,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6401:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3357,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitterTokenAmounts",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3011,
                        "src": "6401:24:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      ],
                      "id": 3348,
                      "name": "_batchTransfer",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3482,
                      "src": "6310:14:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$",
                        "typeString": "function (uint256,address,address,uint256[] memory,uint256[] memory)"
                      }
                    },
                    "id": 3358,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6310:125:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3359,
                  "nodeType": "ExpressionStatement",
                  "src": "6310:125:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 3361,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3295,
                        "src": "6473:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 3362,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6485:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3363,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "receiver",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3005,
                        "src": "6485:13:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "expression": {
                          "id": 3364,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6500:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3365,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitter",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3003,
                        "src": "6500:12:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "expression": {
                          "id": 3366,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6514:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3367,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "receiverTokenIds",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3014,
                        "src": "6514:21:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      },
                      {
                        "expression": {
                          "id": 3368,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6537:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3369,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "receiverTokenAmounts",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3017,
                        "src": "6537:25:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        },
                        {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage",
                          "typeString": "uint256[] storage ref"
                        }
                      ],
                      "id": 3360,
                      "name": "_batchTransfer",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3482,
                      "src": "6445:14:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$returns$__$",
                        "typeString": "function (uint256,address,address,uint256[] memory,uint256[] memory)"
                      }
                    },
                    "id": 3370,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6445:127:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3371,
                  "nodeType": "ExpressionStatement",
                  "src": "6445:127:16"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "id": 3373,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3295,
                        "src": "6655:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 3374,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6667:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3375,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "emitter",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3003,
                        "src": "6667:12:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "expression": {
                          "id": 3376,
                          "name": "deal",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3300,
                          "src": "6681:4:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                            "typeString": "struct SafeExchange.Deal storage pointer"
                          }
                        },
                        "id": 3377,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "receiver",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3005,
                        "src": "6681:13:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 3372,
                      "name": "DealConfirmed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 2994,
                      "src": "6641:13:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$_t_address_$returns$__$",
                        "typeString": "function (uint256,address,address)"
                      }
                    },
                    "id": 3378,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6641:54:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3379,
                  "nodeType": "EmitStatement",
                  "src": "6636:59:16"
                },
                {
                  "expression": {
                    "id": 3383,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "UnaryOperation",
                    "operator": "delete",
                    "prefix": true,
                    "src": "6705:24:16",
                    "subExpression": {
                      "baseExpression": {
                        "id": 3380,
                        "name": "deals",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3030,
                        "src": "6712:5:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                          "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                        }
                      },
                      "id": 3382,
                      "indexExpression": {
                        "id": 3381,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3295,
                        "src": "6718:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "6712:17:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage",
                        "typeString": "struct SafeExchange.Deal storage ref"
                      }
                    },
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3384,
                  "nodeType": "ExpressionStatement",
                  "src": "6705:24:16"
                }
              ]
            },
            "documentation": {
              "id": 3293,
              "nodeType": "StructuredDocumentation",
              "src": "5359:206:16",
              "text": " Confirming a deal requires the deal to be valid, the sender to\n be the deal emitter (or an allowed operator of the deal emitter),\n and the deal to be in the appropriate state."
            },
            "functionSelector": "c3e50027",
            "id": 3386,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "dealConfirm",
            "nameLocation": "5579:11:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3296,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3295,
                  "mutability": "mutable",
                  "name": "_dealIndex",
                  "nameLocation": "5599:10:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3386,
                  "src": "5591:18:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3294,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5591:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5590:20:16"
            },
            "returnParameters": {
              "id": 3297,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "5622:0:16"
            },
            "scope": 3483,
            "src": "5570:1166:16",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 3455,
              "nodeType": "Block",
              "src": "6943:643:16",
              "statements": [
                {
                  "assignments": [
                    3394
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3394,
                      "mutability": "mutable",
                      "name": "deal",
                      "nameLocation": "6966:4:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3455,
                      "src": "6953:17:16",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal"
                      },
                      "typeName": {
                        "id": 3393,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 3392,
                          "name": "Deal",
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 3021,
                          "src": "6953:4:16"
                        },
                        "referencedDeclaration": 3021,
                        "src": "6953:4:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                          "typeString": "struct SafeExchange.Deal"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3398,
                  "initialValue": {
                    "baseExpression": {
                      "id": 3395,
                      "name": "deals",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3030,
                      "src": "6973:5:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                        "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                      }
                    },
                    "id": 3397,
                    "indexExpression": {
                      "id": 3396,
                      "name": "_dealIndex",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3389,
                      "src": "6979:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "6973:17:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Deal_$3021_storage",
                      "typeString": "struct SafeExchange.Deal storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "6953:37:16"
                },
                {
                  "assignments": [
                    3400
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3400,
                      "mutability": "mutable",
                      "name": "emitter",
                      "nameLocation": "7008:7:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3455,
                      "src": "7000:15:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "typeName": {
                        "id": 3399,
                        "name": "address",
                        "nodeType": "ElementaryTypeName",
                        "src": "7000:7:16",
                        "stateMutability": "nonpayable",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3403,
                  "initialValue": {
                    "expression": {
                      "id": 3401,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3394,
                      "src": "7018:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3402,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "emitter",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3003,
                    "src": "7018:12:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7000:30:16"
                },
                {
                  "assignments": [
                    3405
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3405,
                      "mutability": "mutable",
                      "name": "receiver",
                      "nameLocation": "7048:8:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3455,
                      "src": "7040:16:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "typeName": {
                        "id": 3404,
                        "name": "address",
                        "nodeType": "ElementaryTypeName",
                        "src": "7040:7:16",
                        "stateMutability": "nonpayable",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3408,
                  "initialValue": {
                    "expression": {
                      "id": 3406,
                      "name": "deal",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3394,
                      "src": "7059:4:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage_ptr",
                        "typeString": "struct SafeExchange.Deal storage pointer"
                      }
                    },
                    "id": 3407,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "receiver",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3005,
                    "src": "7059:13:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7040:32:16"
                },
                {
                  "assignments": [
                    3410
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3410,
                      "mutability": "mutable",
                      "name": "sender",
                      "nameLocation": "7090:6:16",
                      "nodeType": "VariableDeclaration",
                      "scope": 3455,
                      "src": "7082:14:16",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "typeName": {
                        "id": 3409,
                        "name": "address",
                        "nodeType": "ElementaryTypeName",
                        "src": "7082:7:16",
                        "stateMutability": "nonpayable",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3413,
                  "initialValue": {
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "id": 3411,
                      "name": "_msgSender",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 1754,
                      "src": "7099:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$__$returns$_t_address_$",
                        "typeString": "function () view returns (address)"
                      }
                    },
                    "id": 3412,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "7099:12:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7082:29:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        "id": 3420,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3415,
                          "name": "emitter",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3400,
                          "src": "7142:7:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "!=",
                        "rightExpression": {
                          "arguments": [
                            {
                              "hexValue": "30",
                              "id": 3418,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "7161:1:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              }
                            ],
                            "id": 3417,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "ElementaryTypeNameExpression",
                            "src": "7153:7:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_address_$",
                              "typeString": "type(address)"
                            },
                            "typeName": {
                              "id": 3416,
                              "name": "address",
                              "nodeType": "ElementaryTypeName",
                              "src": "7153:7:16",
                              "typeDescriptions": {}
                            }
                          },
                          "id": 3419,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "7153:10:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "src": "7142:21:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a20696e76616c6964206465616c",
                        "id": 3421,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "7177:28:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        },
                        "value": "SafeExchange: invalid deal"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_a3e64a423ddd1376fd297a66c5d97d2b3e33a734727032ce1f6fa8a09b82643d",
                          "typeString": "literal_string \"SafeExchange: invalid deal\""
                        }
                      ],
                      "id": 3414,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "7121:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3422,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "7121:94:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3423,
                  "nodeType": "ExpressionStatement",
                  "src": "7121:94:16"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3441,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "commonType": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          },
                          "id": 3436,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "commonType": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            },
                            "id": 3432,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "commonType": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              "id": 3427,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "id": 3425,
                                "name": "emitter",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3400,
                                "src": "7246:7:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_address",
                                  "typeString": "address"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "==",
                              "rightExpression": {
                                "id": 3426,
                                "name": "sender",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3410,
                                "src": "7257:6:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_address",
                                  "typeString": "address"
                                }
                              },
                              "src": "7246:17:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "||",
                            "rightExpression": {
                              "arguments": [
                                {
                                  "id": 3429,
                                  "name": "emitter",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3400,
                                  "src": "7279:7:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                },
                                {
                                  "id": 3430,
                                  "name": "sender",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3410,
                                  "src": "7288:6:16",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  },
                                  {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                ],
                                "id": 3428,
                                "name": "_isApproved",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3466,
                                "src": "7267:11:16",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_bool_$",
                                  "typeString": "function (address,address) view returns (bool)"
                                }
                              },
                              "id": 3431,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "functionCall",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "7267:28:16",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              }
                            },
                            "src": "7246:49:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "||",
                          "rightExpression": {
                            "commonType": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            "id": 3435,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "id": 3433,
                              "name": "receiver",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3405,
                              "src": "7311:8:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "==",
                            "rightExpression": {
                              "id": 3434,
                              "name": "sender",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3410,
                              "src": "7323:6:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            "src": "7311:18:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "src": "7246:83:16",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "arguments": [
                            {
                              "id": 3438,
                              "name": "receiver",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3405,
                              "src": "7345:8:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            {
                              "id": 3439,
                              "name": "sender",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3410,
                              "src": "7355:6:16",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              },
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 3437,
                            "name": "_isApproved",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3466,
                            "src": "7333:11:16",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_view$_t_address_$_t_address_$returns$_t_bool_$",
                              "typeString": "function (address,address) view returns (bool)"
                            }
                          },
                          "id": 3440,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "7333:29:16",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "7246:116:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "5361666545786368616e67653a2063616c6c6572206973206e6f7420656d69747465722f7265636569766572206e6f7220617070726f766564",
                        "id": 3442,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "7376:59:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_e6934625d149fa57d22b3c0d6f05c08021670fa37106525528f7681fcae93303",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter/receiver nor approved\""
                        },
                        "value": "SafeExchange: caller is not emitter/receiver nor approved"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_e6934625d149fa57d22b3c0d6f05c08021670fa37106525528f7681fcae93303",
                          "typeString": "literal_string \"SafeExchange: caller is not emitter/receiver nor approved\""
                        }
                      ],
                      "id": 3424,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "7225:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3443,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "7225:220:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3444,
                  "nodeType": "ExpressionStatement",
                  "src": "7225:220:16"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "id": 3446,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3389,
                        "src": "7526:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 3447,
                        "name": "sender",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3410,
                        "src": "7538:6:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 3445,
                      "name": "DealBroken",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3001,
                      "src": "7515:10:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_uint256_$_t_address_$returns$__$",
                        "typeString": "function (uint256,address)"
                      }
                    },
                    "id": 3448,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "7515:30:16",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3449,
                  "nodeType": "EmitStatement",
                  "src": "7510:35:16"
                },
                {
                  "expression": {
                    "id": 3453,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "UnaryOperation",
                    "operator": "delete",
                    "prefix": true,
                    "src": "7555:24:16",
                    "subExpression": {
                      "baseExpression": {
                        "id": 3450,
                        "name": "deals",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3030,
                        "src": "7562:5:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_uint256_$_t_struct$_Deal_$3021_storage_$",
                          "typeString": "mapping(uint256 => struct SafeExchange.Deal storage ref)"
                        }
                      },
                      "id": 3452,
                      "indexExpression": {
                        "id": 3451,
                        "name": "_dealIndex",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3389,
                        "src": "7568:10:16",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "7562:17:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Deal_$3021_storage",
                        "typeString": "struct SafeExchange.Deal storage ref"
                      }
                    },
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3454,
                  "nodeType": "ExpressionStatement",
                  "src": "7555:24:16"
                }
              ]
            },
            "documentation": {
              "id": 3387,
              "nodeType": "StructuredDocumentation",
              "src": "6742:146:16",
              "text": " Breaking a deal requires the deal to be valid, the sender to be\n the emitter (or approved) or the receiver (or approved)."
            },
            "functionSelector": "6344bb13",
            "id": 3456,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "dealBreak",
            "nameLocation": "6902:9:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3390,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3389,
                  "mutability": "mutable",
                  "name": "_dealIndex",
                  "nameLocation": "6920:10:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3456,
                  "src": "6912:18:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3388,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6912:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "6911:20:16"
            },
            "returnParameters": {
              "id": 3391,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "6943:0:16"
            },
            "scope": 3483,
            "src": "6893:693:16",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "documentation": {
              "id": 3457,
              "nodeType": "StructuredDocumentation",
              "src": "7592:133:16",
              "text": " Tells whether a sender is approved for a given party\n to perform this contract's operations on their behalf."
            },
            "id": 3466,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "_isApproved",
            "nameLocation": "7739:11:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3462,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3459,
                  "mutability": "mutable",
                  "name": "_party",
                  "nameLocation": "7759:6:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3466,
                  "src": "7751:14:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3458,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "7751:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3461,
                  "mutability": "mutable",
                  "name": "_sender",
                  "nameLocation": "7775:7:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3466,
                  "src": "7767:15:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3460,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "7767:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7750:33:16"
            },
            "returnParameters": {
              "id": 3465,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3464,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 3466,
                  "src": "7815:4:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 3463,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "7815:4:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7814:6:16"
            },
            "scope": 3483,
            "src": "7730:91:16",
            "stateMutability": "view",
            "virtual": true,
            "visibility": "internal"
          },
          {
            "documentation": {
              "id": 3467,
              "nodeType": "StructuredDocumentation",
              "src": "7827:83:16",
              "text": " Does a batch transfer of the tokens from one party to the other."
            },
            "id": 3482,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "_batchTransfer",
            "nameLocation": "7924:14:16",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3480,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3469,
                  "mutability": "mutable",
                  "name": "_dealIndex",
                  "nameLocation": "7956:10:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3482,
                  "src": "7948:18:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3468,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "7948:7:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3471,
                  "mutability": "mutable",
                  "name": "_from",
                  "nameLocation": "7976:5:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3482,
                  "src": "7968:13:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3470,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "7968:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3473,
                  "mutability": "mutable",
                  "name": "_to",
                  "nameLocation": "7991:3:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3482,
                  "src": "7983:11:16",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3472,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "7983:7:16",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3476,
                  "mutability": "mutable",
                  "name": "_tokenIds",
                  "nameLocation": "8013:9:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3482,
                  "src": "7996:26:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3474,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "7996:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3475,
                    "nodeType": "ArrayTypeName",
                    "src": "7996:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3479,
                  "mutability": "mutable",
                  "name": "_tokenAmounts",
                  "nameLocation": "8041:13:16",
                  "nodeType": "VariableDeclaration",
                  "scope": 3482,
                  "src": "8024:30:16",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3477,
                      "name": "uint256",
                      "nodeType": "ElementaryTypeName",
                      "src": "8024:7:16",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3478,
                    "nodeType": "ArrayTypeName",
                    "src": "8024:9:16",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7938:122:16"
            },
            "returnParameters": {
              "id": 3481,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "8077:0:16"
            },
            "scope": 3483,
            "src": "7915:163:16",
            "stateMutability": "nonpayable",
            "virtual": true,
            "visibility": "internal"
          }
        ],
        "scope": 3484,
        "src": "271:7809:16",
        "usedErrors": []
      }
    ],
    "src": "32:8049:16"
  },
  "compiler": {
    "name": "solc",
    "version": "0.8.10+commit.fc410830.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.4.3",
  "updatedAt": "2022-11-02T01:33:26.229Z",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "events": {
      "DealAccepted(uint256,address,address)": {
        "notice": "This event is raised when a deal is accepted by the receiver."
      },
      "DealBroken(uint256,address)": {
        "notice": "This event is raised when a deal is broken by its emitter, the receiver, or an operator on behalf of any of them."
      },
      "DealConfirmed(uint256,address,address)": {
        "notice": "This event is raised when a deal is confirmed by its creator, after the receiver's acceptance."
      },
      "DealStarted(uint256,address,address)": {
        "notice": "This event is raised when a new deal is created."
      }
    },
    "kind": "user",
    "methods": {
      "dealAccept(uint256,uint256[],uint256[])": {
        "notice": "Accepting a deal requires the deal to be valid, the sender to be the deal receiver (or an allowed operator of the deal receiver), and the deal to be in the appropriate state. Also, the objects data must be non-empty and no element must be 0."
      },
      "dealBreak(uint256)": {
        "notice": "Breaking a deal requires the deal to be valid, the sender to be the emitter (or approved) or the receiver (or approved)."
      },
      "dealConfirm(uint256)": {
        "notice": "Confirming a deal requires the deal to be valid, the sender to be the deal emitter (or an allowed operator of the deal emitter), and the deal to be in the appropriate state."
      },
      "dealStart(address,address,uint256[],uint256[])": {
        "notice": "Starting a deal requires the sender to be the _emitter address or an address the sender can operate on their behalf. Also, the objects data must be non-empty, and no element must be 0."
      },
      "deals(uint256)": {
        "notice": "All the ACTIVE / PENDING deals instantiated so far."
      }
    },
    "notice": "These are features to implement a safe exchange in another contract inheriting this one.",
    "version": 1
  }
}